(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{802:function(e,t,r){},809:function(e,t,r){"use strict";var a=r(6),n=r(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},c=r(14),i=function(e,t){return n.createElement(c.a,Object(a.a)({},e,{ref:t,icon:o}))},l=n.forwardRef(i);t.a=l},818:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(775),c=r(762),i=r(763),l=r(779),s=r(73),u=r(809),d=r(19),m=r(767),h=r(36),f=r(372),b=r.n(f),p=r(449),g=r(8),y=r(121),v=r(16);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=O(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,c,i=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){s=!0,n=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var C=Object(a.forwardRef)(function(e,t){var r=e.aspect,o=e.initialDimension,c=void 0===o?{width:-1,height:-1}:o,i=e.width,l=void 0===i?"100%":i,s=e.height,u=void 0===s?"100%":s,d=e.minWidth,m=void 0===d?0:d,f=e.minHeight,O=e.maxHeight,j=e.children,E=e.debounce,S=void 0===E?0:E,C=e.id,R=e.className,A=e.onResize,P=e.style,k=void 0===P?{}:P,D=Object(a.useRef)(null),I=Object(a.useRef)();I.current=A,Object(a.useImperativeHandle)(t,function(){return Object.defineProperty(D.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),D.current},configurable:!0})});var H=x(Object(a.useState)({containerWidth:c.width,containerHeight:c.height}),2),N=H[0],T=H[1],W=Object(a.useCallback)(function(e,t){T(function(r){var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]);Object(a.useEffect)(function(){var e=function(e){var t,r=e[0].contentRect,a=r.width,n=r.height;W(a,n),null===(t=I.current)||void 0===t||t.call(I,a,n)};S>0&&(e=b()(e,S,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=D.current.getBoundingClientRect(),a=r.width,n=r.height;return W(a,n),t.observe(D.current),function(){t.disconnect()}},[W,S]);var _=Object(a.useMemo)(function(){var e=N.containerWidth,t=N.containerHeight;if(e<0||t<0)return null;Object(y.a)(Object(g.h)(l)||Object(g.h)(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",l,u),Object(y.a)(!r||r>0,"The aspect(%s) must be greater than zero.",r);var o=Object(g.h)(l)?e:l,c=Object(g.h)(u)?t:u;r&&r>0&&(o?c=o/r:c&&(o=c*r),O&&c>O&&(c=O)),Object(y.a)(o>0||c>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",o,c,l,u,m,f,r);var i=!Array.isArray(j)&&Object(p.isElement)(j)&&Object(v.d)(j.type).endsWith("Chart");return n.a.Children.map(j,function(e){return Object(p.isElement)(e)?Object(a.cloneElement)(e,w({width:o,height:c},i?{style:w({height:"100%",width:"100%",maxHeight:c,maxWidth:o},e.props.style)}:{})):e})},[r,j,u,O,f,m,N,l]);return n.a.createElement("div",{id:C?"".concat(C):void 0,className:Object(h.a)("recharts-responsive-container",R),style:w(w({},k),{},{width:l,height:u,minWidth:m,minHeight:f,maxHeight:O}),ref:D},_)}),R=r(772),A=r(764),P=r(475),k=r(476),D=r(174),I=r(299);var H=e=>{let{data:t}=e;return t&&0!==t.length?n.a.createElement(C,{width:"70%",height:400},n.a.createElement(R.a,{data:t,margin:{top:20,right:30,left:20,bottom:5}},n.a.createElement(A.a,{strokeDasharray:"3 3"}),n.a.createElement(P.a,{dataKey:"name"}),n.a.createElement(k.a,null),n.a.createElement(D.a,null),n.a.createElement(I.a,{dataKey:"count",fill:"#006aff"}))):n.a.createElement("p",null,"Carregando dados...")};r(802);const N=n.a.memo(()=>{const[e,t]=Object(a.useState)({}),[r,h]=Object(a.useState)([]),[f,b]=Object(a.useState)(!1),[p,g]=Object(a.useState)(0),y=Object(d.p)();console.log(`Largura: ${window.innerWidth}px, Altura: ${window.innerHeight}px`),Object(a.useEffect)(()=>{(async()=>{try{const{data:r}=await m.a.get("https://apidoixc.nexusnerds.com.br/Data/Resultados_Status.json");t(r.contagem)}catch(e){console.error("Erro ao buscar os dados de status:",e)}})(),(async()=>{try{const{data:t}=await m.a.get("https://apidoixc.nexusnerds.com.br/Data/Contagem_por_bairros.json"),r=Object.entries(t).map(e=>{let[t,r]=e;return{name:t,count:r}});h(r)}catch(e){console.error("Erro ao buscar os dados de bairros:",e)}})()},[]),Object(a.useEffect)(()=>{const e=localStorage.getItem("timeRemaining");e&&e>0&&(g(parseInt(e,10)),b(!0))},[]),Object(a.useEffect)(()=>{if(f&&p>0){const e=setInterval(()=>{g(t=>{const r=t-1;return localStorage.setItem("timeRemaining",r),r<=0&&(clearInterval(e),b(!1),localStorage.removeItem("timeRemaining")),r})},1e3);return()=>clearInterval(e)}},[f,p]);const v=async e=>{try{const r=await fetch("https://api.comand.nexusnerds.com.br/executar-comando",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comando:e})});if(!r.ok)throw new Error("Erro ao executar o comando");const a=await r.json();console.log(a)}catch(t){throw console.error(`Erro de execu\xe7\xe3o: ${t.message}`),t}},O=e=>{switch(e){case"online":return{backgroundColor:"#d4edda",borderColor:"#c3e6cb",color:"#155724"};case"offline":return{backgroundColor:"#ffa726",borderColor:"#fb8c00",color:"#bf360c"};case"los":return{backgroundColor:"#f8d7da",borderColor:"#f5c6cb",color:"#721c24"};default:return{}}};return n.a.createElement("div",{className:"dashboard-container"},n.a.createElement("h2",null,"Dashboard - An\xe1lise T\xe9cnica"),n.a.createElement(c.a,{gutter:[16,16],justify:"center"},n.a.createElement(i.a,{xs:24,sm:12,md:8},n.a.createElement(l.a,{title:"ONUs Online",bordered:!1,style:O("online")},n.a.createElement("p",null,void 0!==e.online?e.online:"Carregando..."))),n.a.createElement(i.a,{xs:24,sm:12,md:8},n.a.createElement(l.a,{title:"ONUs Desligadas",bordered:!1,style:O("offline")},n.a.createElement("p",null,void 0!==e.offline?e.offline:"Carregando..."))),n.a.createElement(i.a,{xs:24,sm:12,md:8},n.a.createElement(l.a,{title:"ONU (LOS)",bordered:!1,style:O("los")},n.a.createElement("p",null,void 0!==e.los?e.los:"Carregando...")))),n.a.createElement("div",{className:"action-buttons",style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"}},n.a.createElement(s.a,{type:"primary",onClick:()=>y("/home/detalhes-dispositivos"),style:{marginRight:"10px"}},"An\xe1lise Detalhada"),n.a.createElement(s.a,{type:"primary",onClick:async()=>{b(!0),g(180),localStorage.setItem("timeRemaining",180);try{await v("node /api_ixc/dashboard/Flashupdate.js && node /api_ixc/dashboard/ButtonUpdateData.js"),o.a.success("Comando executado com sucesso!")}catch(e){console.error("Erro ao executar o comando:",e),o.a.error("Erro ao executar o comando.")}},disabled:f,icon:n.a.createElement(u.a,null)},f?`Aguarde ${p}s`:"")),n.a.createElement("div",{className:"chart-container"},n.a.createElement(H,{data:r})),n.a.createElement("div",{className:"button-below-chart",style:{textAlign:"center",marginTop:"20px"}},n.a.createElement(s.a,{type:"primary",onClick:()=>(async e=>{b(!0),g(30),localStorage.setItem("timeRemaining",30);try{await v(e),o.a.success("Comando executado com sucesso!")}catch(t){console.error("Erro ao executar o comando:",t),o.a.error("Erro ao executar o comando.")}})("node /api_ixc/dashboard/updateData.js && node /api_ixc/dashboard/contarClientesPorBairro.js"),disabled:f,icon:n.a.createElement(u.a,null)},"")))});t.default=N}}]);
//# sourceMappingURL=3.a2fa601f.chunk.js.map