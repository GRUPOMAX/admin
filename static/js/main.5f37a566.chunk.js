(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{233:function(e,a,t){},279:function(e,a,t){e.exports=t(372)},285:function(e,a,t){},287:function(e,a,t){},293:function(e,a,t){},294:function(e,a,t){},295:function(e,a,t){},296:function(e,a,t){},297:function(e,a,t){},298:function(e,a,t){},301:function(e,a,t){},302:function(e,a,t){},303:function(e,a,t){},304:function(e,a,t){},305:function(e,a,t){},306:function(e,a,t){},307:function(e,a,t){},308:function(e,a,t){},309:function(e,a,t){},310:function(e,a,t){},311:function(e,a,t){},367:function(e,a,t){},368:function(e,a,t){},369:function(e,a,t){},370:function(e,a,t){},371:function(e,a,t){},372:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),l=t(240),n=t.n(l),s=(t(285),t(17)),c=t(98),i=t(397),m=t(391),d=t(394),u=t(205),p=t(388),E=t(42),b=t.n(E);t(286),t(287);b.a.locale("pt-br");const{Sider:g}=i.a,{Title:h,Text:f}=m.a;var v=e=>{let{onLogout:a}=e;const[t,l]=Object(r.useState)({}),[n,i]=Object(r.useState)(null),[m,E]=Object(r.useState)(!0),v=Object(s.n)();Object(s.p)();Object(r.useEffect)(()=>{(async()=>{const e=localStorage.getItem("holidays-data");if(e){const a=JSON.parse(e);l(a),y(a),E(!1)}else try{const e=(await p.a.get("https://apidoixc.nexusnerds.com.br/Data/feriados.json")).data;console.log("Dados recebidos da API:",e),localStorage.setItem("holidays-data",JSON.stringify(e)),l(e),y(e),E(!1)}catch(a){d.a.error("Erro ao carregar os feriados"),E(!1)}})()},[]);const y=e=>{const a=b()(),t=Object.keys(e).filter(e=>b()(e).isAfter(a)).sort((e,a)=>b()(e).isBefore(b()(a))?-1:1);if(t.length>0){const a=t[0];i({date:a,name:e[a],dayOfWeek:b()(a).format("dddd")})}else i(null)},S=v.pathname,O={"/home/max-fibra":[{name:"Dashboard",href:"/home/home"},{name:"Consulta CNPJ",href:"/home/max-fibra/consultaCNPJ"},{name:"Cadastro Vendedor",href:"/home/max-fibra/cadastro"}],"/home/vir-telecom":[{name:"Dashboard Vir Telecom",href:"/home/vir-telecom/Dashboard-virtelecom"},{name:"Consultar CNPJ",href:"/home/vir-telecom/consultaCNPJ"}],"/home/reis-services":[{name:"Op\xe7\xe3o 1 - Reis",href:"/reis-services/opcao1"},{name:"Op\xe7\xe3o 2 - Reis",href:"/reis-services/opcao2"}],"/home/max-fibra/consultaCNPJ":[{name:"Dashboard",href:"/home/max-fibra"},{name:"Max Fibra - Atalhos",href:"/home/max-fibra"},{name:"Consulta CPF",href:"/home/max-fibra/consultaCPF"}],"/home/max-fibra/consultaCPF":[{name:"Pagina Inicial",href:"/home/max-fibra"},{name:"Consulta CNPJ",href:"/home/max-fibra/consultaCNPJ"}],"/home/max-fibra/cadastro":[{name:"Pagina Inicial",href:"/home/max-fibra"}],"/home/vir-telecom/Dashboard-virtelecom":[{name:"Atalhos Vir Telecom",href:"/home/vir-telecom"}],"/home":[{name:"Max Fibra",href:"/home/max-fibra"},{name:"Cadastro Vendedor",href:"/home/max-fibra/cadastro"}],"/home/editar-perfil":[{name:"Dashboard",href:"/home"},{name:"Max Fibra",href:"/home/max-fibra"}],"/home/criar-usuario":[{name:"Dashboard",href:"/home"},{name:"Max Fibra",href:"/home/max-fibra"}],"/home/gerenciar-atalhos":[{name:"Dashboard",href:"/home"},{name:"Max Fibra",href:"/home/max-fibra"}],"/home/detalhes-dispositivos":[{name:"Dashboard",href:"/home"},{name:"Cadastro Vendedor",href:"/home/max-fibra/cadastro"}],"/home/home":[{name:"Max Fibra",href:"/home/max-fibra"},{name:"Cadastro Vendedor",href:"/home/max-fibra/cadastro"}]}[S]||[];return o.a.createElement(g,{className:"sidebar",width:250,theme:"light"},o.a.createElement("div",{className:"sidebar-content"},o.a.createElement("div",{className:"dynamic-menu"},O.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{level:4},"Menu"),o.a.createElement(u.a,{mode:"inline",selectedKeys:[S]},O.map((e,a)=>o.a.createElement(u.a.Item,{key:e.href},o.a.createElement(c.c,{to:e.href},e.name)))))),o.a.createElement("div",{className:"next-holiday-container"},o.a.createElement(h,{level:4},"Pr\xf3ximo Feriado"),m?o.a.createElement("p",null,"Carregando..."):n?o.a.createElement(f,null,n.name," em ",o.a.createElement("strong",null,b()(n.date).format("DD/MM/YYYY"))," (",n.dayOfWeek,")"):o.a.createElement(f,null,"N\xe3o h\xe1 pr\xf3ximos feriados."))))};t(293);var y=e=>{let{text:a,closePopup:t}=e;return o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popup-content",dangerouslySetInnerHTML:{__html:a}}),o.a.createElement("button",{className:"popup-close",onClick:t},"Fechar"))};t(294);var S=e=>{let{url:a,closePopup:t}=e;const[l,n]=Object(r.useState)(!1),[s,c]=Object(r.useState)({top:"20px",left:"20px"}),[i,m]=Object(r.useState)({x:0,y:0}),d=Object(r.useCallback)(e=>{l&&c({top:`${e.clientY-i.y}px`,left:`${e.clientX-i.x}px`})},[l,i]),u=()=>{n(!1)};return Object(r.useEffect)(()=>(window.addEventListener("mousemove",d),window.addEventListener("mouseup",u),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",u)}),[d]),o.a.createElement("div",{className:"popup-iframe",style:{top:s.top,left:s.left},onMouseDown:e=>{0===e.button&&(n(!0),m({x:e.clientX-parseInt(s.left,10),y:e.clientY-parseInt(s.top,10)}))},onClick:e=>e.stopPropagation()},o.a.createElement("div",{className:"popup-iframe-header"},o.a.createElement("span",{className:"popup-iframe-close",onClick:t},"\xd7"),o.a.createElement("div",{className:"popup-iframe-title"},"Gerador de Proposta")),o.a.createElement("iframe",{src:a,width:"100%",height:"100%",frameBorder:"0",title:"Popup Iframe"}))},O=t(401),C=t(59),I=t(395);const{Title:w,Text:x}=m.a;var P=e=>{let{userId:a}=e;const[t,l]=Object(r.useState)([]),[n,s]=Object(r.useState)(!0);Object(r.useEffect)(()=>{(async()=>{try{const{data:t}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",{params:{where:`(userId,eq,${a})`},headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}});l(t.list)}catch(e){console.error("Erro ao buscar notifica\xe7\xf5es:",e)}finally{s(!1)}})()},[a]);return o.a.createElement("div",{style:{padding:"20px"}},o.a.createElement(w,{level:3},"Notifica\xe7\xf5es"),o.a.createElement(O.a,{loading:n,itemLayout:"horizontal",dataSource:t,renderItem:e=>o.a.createElement(O.a.Item,{actions:[!e.isRead&&o.a.createElement(C.a,{type:"link",onClick:()=>(async e=>{try{await p.a.patch(`https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records/${e}`,{isRead:!0},{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),l(a=>a.map(a=>a.id===e?{...a,isRead:!0}:a))}catch(a){console.error("Erro ao marcar notifica\xe7\xe3o como lida:",a)}})(e.id)},"Marcar como lida")]},o.a.createElement(O.a.Item.Meta,{title:o.a.createElement(I.a,{dot:!e.isRead},o.a.createElement(x,{strong:!0},e.title)),description:e.message}))}))};t(295);var k=()=>{const[e]=Object(r.useState)([]);return Object(r.useEffect)(()=>{(async()=>{})()},[]),o.a.createElement("div",null,o.a.createElement(P,{message:e.length>0?"ONUS OFFLINE":""}))};t(296);var A=e=>{let{url:a,imgSrc:t,altText:l,text:n,popupText:s,isIframe:c,isEquipamentos:i}=e;const[m,d]=Object(r.useState)(!1),[u,p]=Object(r.useState)(!1),[E,b]=Object(r.useState)(!1),[g,h]=Object(r.useState)(null);return o.a.createElement("div",{className:"link-item-container"},o.a.createElement("div",{className:"link-item",onMouseEnter:()=>{(s||i)&&(g&&clearTimeout(g),d(!0),i&&b(!0))},onMouseLeave:()=>{if(s||i){const e=setTimeout(()=>{d(!1),b(!1)},2e3);h(e)}}},o.a.createElement("a",{href:a,onClick:e=>{e.preventDefault(),c?p(!0):window.open(a,"_blank","noopener noreferrer")},rel:"noopener noreferrer"},o.a.createElement("img",{src:t,alt:l}),o.a.createElement("p",null,n))),m&&o.a.createElement(y,{text:s,closePopup:()=>{d(!1),g&&clearTimeout(g)}}),u&&o.a.createElement(S,{url:a,closePopup:()=>{p(!1)}}),E&&o.a.createElement(k,{closePopup:()=>{b(!1)}}))};t(297);const j={Administrador:["IXC","IXCMapas","IXCService","IXCAcs","R8Rastreadores","OpaSuite","CredLocaliza","Canva","Gmail","Trello","SmartOLT","Grafana","Dpv-Vendas","Secullum","CredLocaliza","PLayHUB","Totem","Playhub-biblioteca"],Desenvolvedor:["IXC","IXCMapas","IXCService","IXCAcs","R8Rastreadores","OpaSuite","CredLocaliza","Canva","Gmail","Trello","SmartOLT","Grafana","Dpv-Vendas","Secullum","CredLocaliza","PLayHUB","Totem","Playhub-biblioteca"],Financeiro:["IXC","IXCMapas","IXCService","IXCAcs","Secullum","OpaSuite","CredLocaliza","Canva","Gmail","Trello","SmartOLT","OpaSuite","CredLocaliza","SSA"],Vendedor:["Canva","Gmail","Trello"]};var T=e=>{let{userProfile:a}=e;const t=null===a||void 0===a?void 0:a.Cargo1;if(console.log("User Profile",a),!a||!t)return console.error("Erro: Cargo n\xe3o est\xe1 definido ou userProfile \xe9 inv\xe1lido:",a),o.a.createElement("p",null,"Erro: Perfil de usu\xe1rio inv\xe1lido.");const r=[{title:"Programas IXC",links:[{id:"IXC",url:"https://ixc.maxfibraltda.com.br/adm.php",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/IXC-PROVEDOR.png",altText:"IXC",text:"IXC",popupText:'Para acessar esse atalho \xe9 <br>necess\xe1rio fazer <strong> <a href="https://ixc.maxfibraltda.com.br/adm.php" target="_blank" rel="noopener noreferrer">Login</a></strong>'},{id:"IXCMapas",url:"https://ixc.maxfibraltda.com.br/mapas.php?mode=fiber",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/IXC-IMAP.png",altText:"IXC - FiberDocs",text:"IXC - Imap"},{id:"IXCService",url:"https://ixc.maxfibraltda.com.br/mapas.php?mode=service",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/IXC-SERVICE.png",altText:"IXC - Service",text:"IXC - Service"},{id:"IXCAcs",url:"https://acs.maxfibraltda.com.br/",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/PRO-1-1.gif",altText:"IXC - ACS",text:"IXC - ACS"}]},{title:"Analise e Monitoramento",links:[{id:"SmartOLT",url:"https://grupomaxltda.smartolt.com/",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/SMART-OLT.png",altText:"SMART-OLT",text:"Smart-Olt"},{id:"Grafana",url:"http://172.25.255.20:3000/login",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/Grafana.png",altText:"GRAFANA",text:"Grafana"},{id:"R8Rastreadores",url:"https://www.r8rastreadores.com.br/map",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/06/R8-RASTREIO-1.jpg",altText:"R8 - RASTREIO",text:"R8 Rastreadores"}]},{title:"Administra\xe7\xe3o e Controle",links:[{id:"Secullum",url:"https://autenticador.secullum.com.br/Authorization?response_type=code&client_id=3&redirect_uri=https%3A%2F%2Fpontoweb.secullum.com.br%2FAuth",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/Secullum.png",altText:"SECULLUM",text:"Secullum - Ponto"},{id:"CredLocaliza",url:"https://credlocaliza.com.br/sistema/account/login",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/CRED-LOCALIZA.jpg",altText:"CredLocaliza",text:"CredLocaliza"},{id:"PLayHUB",url:"https://www.playhub.com.br/APP/Login",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/07/Copia-de-PRO.gif",altText:"PlayHub",text:"PlayHub"},{id:"Totem",url:"https://maxfibra.myog.io/admin/",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/08/DATACAKE.png",altText:"Area Administra\xe7\xe3o - Totem",text:"Area Administra\xe7\xe3o - Totem"}]},{title:"Programas \xfateis",links:[{id:"Canva",url:"https://www.canva.com/pt_br/",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/Canva.png",altText:"Canva",text:"Canva",popupText:"Para acessar esse atalho \xe9 <br> necess\xe1rio est\xe1 conectado em uma <br>conta do <strong>Grupo Max</strong>"},{id:"Gmail",url:"https://mail.google.com/mail",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/gmail.png",altText:"Gmail",text:"Gmail"},{id:"trello",url:"https://trello.com/u/grupomax4/boards",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/Trello.png",altText:"Trello",text:"Trello"},{id:"Playhub-biblioteca",url:"https://warnerbros.ent.box.com/s/ykklojfiaf7taxwfnwsdapsybbbxjrev",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/PRO-3.gif",altText:"Driver",text:"Driver - PlayHub"}]}].map(e=>({...e,links:e.links.filter(e=>{var a;return null===(a=j[t])||void 0===a?void 0:a.includes(e.id)})}));return o.a.createElement("div",{className:"max-fibra"},o.a.createElement(v,null),o.a.createElement("div",{className:"content-max-fibra"},r.map((e,a)=>o.a.createElement("div",{key:a},o.a.createElement("h2",null,e.title),o.a.createElement("div",{className:"link-container-max-fibra"},e.links.length>0?e.links.map((e,a)=>o.a.createElement(A,Object.assign({key:a},e))):o.a.createElement("p",null,"Sem Autoriza\xe7\xe3o"))))))},N=t(20),R=t(248),D=t(93);const F=Object(R.a)({apiKey:"AIzaSyCy9jt4EMilBN677Dam8Gd7olePTVkk4xs",authDomain:"area-administrativa---pc.firebaseapp.com",projectId:"area-administrativa---pc",storageBucket:"area-administrativa---pc.appspot.com",messagingSenderId:"240808376953",appId:"1:240808376953:web:68b63459fbfaed7b4e72a8",measurementId:"G-TKRTWX0EXH"}),L=Object(N.g)(F),z=Object(D.c)(F);var M=async e=>{if(e)try{const t=(await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}})).data.list,r=String(e.id),o=t.find(e=>String(e.Id)===r);if(o&&o.empresa){const e=o.empresa.split(",").map(e=>e.trim().toLowerCase());await Object(N.j)(Object(N.d)(L,"users",r),{companies:e},{merge:!0}),console.log("Empresas associadas ao usu\xe1rio foram salvas no Firebase:",e)}else console.error("Usu\xe1rio n\xe3o tem empresas associadas ou n\xe3o foi encontrado.")}catch(a){console.error("Erro ao buscar ou salvar os dados do usu\xe1rio:",a)}else console.error("Nenhum perfil de usu\xe1rio fornecido.")};t(298);const q={Administrador:["ISP","PortalOperacional","OpaSuite","Chatwoot","DFV","ConsultaCPF","Canva","Trello"],Financeiro:["DFV","ConsultaCPF","Canva","Trello"],Vendedor:["OpaSuite","Chatwoot","Canva","Trello"]};var U=e=>{let{userProfile:a}=e;const t=(null===a||void 0===a?void 0:a.Cargo1)||(null===a||void 0===a?void 0:a.cargo1)||(null===a||void 0===a?void 0:a.Cargo);if(!a||!t)return console.error("Erro: Cargo n\xe3o est\xe1 definido ou userProfile \xe9 inv\xe1lido:",a),o.a.createElement("p",null,"Erro: Perfil de usu\xe1rio inv\xe1lido.");const r=[{title:"Programas Administra\xe7\xe3o",links:[{id:"ISP",url:"https://vir.ispcloud.com.br",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/06/ISP-CLOUD.jpg",altText:"ISP-Cloud",text:"ISP"},{id:"PortalOperacional",url:"https://portaloperacional.vtal.com.br/portal",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/07/PORTAL-VTAL.jpg",altText:"Portal Operacional",text:"Portal Operacional",popupText:'Caso a Tela esteja em Branco <br>Clique <strong> <a href="https://portaloperacional.vtal.com.br/" target="_blank" rel="noopener noreferrer">Login</a></strong>'}]},{title:"Atendimento ao Publico",links:[{id:"OpaSuite",url:"https://vir.opasuite.com.br",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/06/OPA-VIR.jpg",altText:"Opa! Suite",text:"OpaSuite!"},{id:"Chatwoot",url:"https://chatwoot.nexusnerds.com.br",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/06/PRO-1.gif",altText:"Chatwoot",text:"Chatwoot"}]},{title:"Administra\xe7\xe3o e Controle",links:[{id:"DFV",url:"https://app.powerbi.com/view?r=eyJrIjoiMjAzODkwOTQtOTRiOS00OGM0LTgzMzktOWE4YzZjNzdiNmUyIiwidCI6IjljZTY2NzI4LThmZmQtNDEzNS1hZTFkLTNiMmUyNjVlMjhlOSJ9",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/07/powerBI.jpg",altText:"DFV",text:"DFV",isIframe:!0},{id:"ConsultaCPF",url:"https://servicos.receita.fazenda.gov.br/Servicos/CPF/ConsultaSituacao/ConsultaPublica.asp",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/08/PRO.gif",altText:"CPF CONSULTA",text:"Consulta CPF"}]},{title:"Programas \xfateis",links:[{id:"Canva",url:"https://www.canva.com/pt_br/",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/Canva.png",altText:"Canva",text:"Canva",popupText:"Para acessar esse atalho \xe9 <br> necess\xe1rio estar conectado em uma <br>conta do <strong>Grupo Max</strong>"},{id:"Trello",url:"https://trello.com/u/grupomax4/boards",imgSrc:"https://maxfibraltda.com.br/wp-content/uploads/2024/05/Trello.png",altText:"Trello",text:"Trello"}]}].map(e=>({...e,links:e.links.filter(e=>{var a;return null===(a=q[t])||void 0===a?void 0:a.includes(e.id)})}));return o.a.createElement("div",{className:"home-virtelecom"},o.a.createElement(v,null),o.a.createElement("div",{className:"content-virtelecom"},r.map((e,a)=>o.a.createElement("div",{key:a},o.a.createElement("h2",null,e.title),o.a.createElement("div",{className:"link-container-virtelecom"},e.links.length>0?e.links.map((e,a)=>o.a.createElement(A,Object.assign({key:a},e))):o.a.createElement("p",null,"Sem Autoriza\xe7\xe3o"))))))};var V=()=>o.a.createElement("div",null,o.a.createElement("h1",null,"Reis Services"),o.a.createElement("p",null,"Conte\xfado da p\xe1gina Reis Services."));var X=()=>o.a.createElement(c.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/max-fibra",element:o.a.createElement(T,null)}),o.a.createElement(s.b,{path:"/vir-telecom",element:o.a.createElement(U,null)}),o.a.createElement(s.b,{path:"/reis-services",element:o.a.createElement(V,null)}),o.a.createElement(s.b,{path:"/contact",element:o.a.createElement(X,null)})))),$=t(167),B=t(393),_=t(390),G=t(256),J=t(387),K=t(165),Y=t.n(K);t(300),t(301);const{Title:Z}=m.a,{Option:H}=$.a,{Step:W}=B.a;var Q=()=>{const[e]=_.a.useForm(),[a,t]=o.a.useState(0),[r,l]=o.a.useState({}),n=[{title:"Passo 1",content:o.a.createElement("div",{className:"form-container"},o.a.createElement(_.a.Item,{name:"NomeCompleto",label:"Nome Completo",rules:[{required:!0,message:"Por favor, insira seu nome completo!"}]},o.a.createElement(G.a,{placeholder:"Digite seu nome completo"})),o.a.createElement(_.a.Item,{name:"CPF_FISICO",label:"CPF",rules:[{required:!0,message:"Por favor, insira seu CPF!"}]},o.a.createElement(Y.a,{mask:"999.999.999-99",placeholder:"Digite seu CPF"},e=>o.a.createElement(G.a,e))),o.a.createElement(_.a.Item,{name:"RG",label:"RG",rules:[{required:!0,message:"Por favor, insira seu RG!"}]},o.a.createElement(G.a,{placeholder:"Digite seu RG"})),o.a.createElement(_.a.Item,{name:"NASCIMENTO",label:"Data de Nascimento",rules:[{required:!0,message:"Por favor, insira sua data de nascimento!"}]},o.a.createElement(J.a,{placeholder:"Selecione a data",format:"DD/MM/YYYY"})))},{title:"Passo 2",content:o.a.createElement("div",{className:"form-container"},o.a.createElement(_.a.Item,{name:"EMAIL_CONTATO",label:"Email",rules:[{required:!0,message:"Por favor, insira seu email!"}]},o.a.createElement(G.a,{placeholder:"Digite seu email"})),o.a.createElement(_.a.Item,{name:"Tel_01",label:"Telefone 1",rules:[{required:!0,message:"Por favor, insira seu telefone!"}]},o.a.createElement(Y.a,{mask:"(99) 99999-9999",placeholder:"Digite seu telefone"},e=>o.a.createElement(G.a,e))),o.a.createElement(_.a.Item,{name:"Tel_02",label:"Telefone 2",rules:[{required:!0,message:"Por favor, insira seu telefone!"},e=>{let{getFieldValue:a}=e;return{validator:(e,t)=>t&&a("Tel_01")===t?Promise.reject(new Error("O Telefone 2 n\xe3o pode ser igual ao Telefone 1.")):Promise.resolve()}}]},o.a.createElement(Y.a,{mask:"(99) 99999-9999",placeholder:"Digite um segundo telefone (opcional)"},e=>o.a.createElement(G.a,e))))},{title:"Passo 3",content:o.a.createElement("div",{className:"form-container"},o.a.createElement(_.a.Item,{name:"Cidade",label:"Cidade",rules:[{required:!0,message:"Por favor, insira sua cidade!"}]},o.a.createElement(G.a,{placeholder:"Digite sua cidade"})),o.a.createElement(_.a.Item,{name:"Bairro",label:"Bairro",rules:[{required:!0,message:"Por favor, insira seu bairro!"}]},o.a.createElement(G.a,{placeholder:"Digite seu bairro"})),o.a.createElement(_.a.Item,{name:"Endereco_Completo",label:"End.: Completo",rules:[{required:!0,message:"Por favor, insira seu endere\xe7o!"}]},o.a.createElement(G.a,{placeholder:"Digite seu endere\xe7o completo"})),o.a.createElement(_.a.Item,{name:"cep_residencia",label:"CEP",rules:[{required:!0,message:"Por favor, insira seu CEP!"}]},o.a.createElement(Y.a,{mask:"99999-999",placeholder:"Digite seu CEP"},e=>o.a.createElement(G.a,e))),o.a.createElement(_.a.Item,{name:"n_residencia",label:"N\xaa da Resid\xeancia",rules:[{required:!0,message:"Por favor, insira o n\xfamero da resid\xeancia!"}]},o.a.createElement(G.a,{placeholder:"Digite o n\xfamero da resid\xeancia"})),o.a.createElement(_.a.Item,{name:"complemento",label:"Complemento",rules:[{required:!1}]},o.a.createElement(G.a,{placeholder:"Digite o complemento (opcional)"})),o.a.createElement(_.a.Item,{name:"Referencia_Endereco",label:"Ref.: de Endere\xe7o",rules:[{required:!1}]},o.a.createElement(G.a,{placeholder:"Digite a refer\xeancia de endere\xe7o (opcional)"})))},{title:"Passo 4",content:o.a.createElement("div",{className:"form-container"},o.a.createElement(_.a.Item,{name:"Plano_Selecionado",label:"Plano Selecionado",rules:[{required:!0,message:"Por favor, selecione um plano!"}]},o.a.createElement($.a,{placeholder:"Selecione um plano"},o.a.createElement(H,{value:"17"},"Turbo R$  99,90"),o.a.createElement(H,{value:"15"},"Infinity R$ 169,90"),o.a.createElement(H,{value:"14"},"Gold R$ 129,90"),o.a.createElement(H,{value:"13"},"Reten\xe7\xe3o R$ 59,90"),o.a.createElement(H,{value:"23"},"Streaming"))),o.a.createElement(_.a.Item,{name:"streaming_Adicional",label:"Streaming Adicional",rules:[{required:!1}]},o.a.createElement($.a,{placeholder:"Selecione uma op\xe7\xe3o de streaming"},o.a.createElement(H,{value:"Streaming_Telas"},"Streaming Telas"),o.a.createElement(H,{value:"Streaming_ChromeCast"},"Streaming + ChomeCast"),o.a.createElement(H,{value:"Nao"},"N\xe3o"))),o.a.createElement(_.a.Item,{name:"Data_Vencimento",label:"Data de Vencimento",rules:[{required:!0,message:"Por favor, insira a data de vencimento!"}]},o.a.createElement($.a,{placeholder:"Selecione a data Vencimento"},o.a.createElement(H,{value:"5"},"Dia 05"),o.a.createElement(H,{value:"10"},"Dia 10"),o.a.createElement(H,{value:"20"},"Dia 20"))))},{title:"Passo 5",content:o.a.createElement("div",{className:"form-container"},o.a.createElement(_.a.Item,{name:"vendedor",label:"Vendedor",rules:[{required:!0,message:"Por favor, insira o nome do vendedor!"}]},o.a.createElement($.a,{placeholder:"Selecione o Vendedor"},o.a.createElement(H,{value:"Tatiara"},"Tatiara Kister"),o.a.createElement(H,{value:"Fabio"},"Fabio Morais"))))}];return o.a.createElement("div",{className:"cadastro-container"},o.a.createElement(Z,{level:2},"Cadastro"),o.a.createElement(B.a,{current:a,className:"steps"},n.map(e=>o.a.createElement(W,{key:e.title,title:e.title}))),o.a.createElement("div",{className:"steps-content"},o.a.createElement(_.a,{form:e,onFinish:async e=>{try{const t={...r,...e};(await fetch("https://webhook.nexusnerds.com.br/webhook/7b6905d3-0548-464a-a620-9bbdffe66b97",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?d.a.success("Dados enviados com sucesso!"):d.a.error("Falha ao enviar os dados. Tente novamente.")}catch(a){d.a.error("Erro ao conectar com o webhook.")}}},n[a].content,o.a.createElement("div",{className:"steps-action"},a>0&&o.a.createElement(C.a,{type:"default",className:"btn-prev",onClick:()=>{t(e=>Math.max(e-1,0))}},"Voltar"),a<n.length-1&&o.a.createElement(C.a,{type:"primary",className:"btn-next",onClick:async()=>{try{const r=await e.validateFields();l(e=>({...e,...r})),t(e=>Math.min(e+1,n.length-1)),e.resetFields()}catch(a){console.error("Erro ao validar os campos: ",a)}}},"Seguir"),a===n.length-1&&o.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"btn-next"},"Concluir")))))};t(302);var ee=()=>o.a.createElement("div",{className:"consulta-cpf"},o.a.createElement("h1",null,"Consulta CPF"),o.a.createElement("iframe",{className:"iframe-consulta",src:"https://servicos.receita.fazenda.gov.br/Servicos/CPF/ConsultaSituacao/ConsultaPublica.asp",title:"Consulta CPF"})),ae=t(398),te=t(399);t(303);const{Title:re,Text:oe}=m.a;var le=()=>{const[e,a]=Object(r.useState)(""),[t,l]=Object(r.useState)(null),[n,s]=Object(r.useState)(""),c=async e=>{try{const a="https://api.allorigins.win/raw?url=",t=`https://www.receitaws.com.br/v1/cnpj/${e}`,r=await p.a.get(a+encodeURIComponent(t));if(200!==r.status)throw new Error(`Erro na resposta da API: ${r.status} ${r.statusText}`);const o=r.data;if("ERROR"===o.status)throw new Error(o.message||"Erro desconhecido");l(o)}catch(n){console.error("Erro ao buscar dados:",n),s(n.message),l(null)}};return o.a.createElement("div",{className:"consulta-cnpj-container"},o.a.createElement(ae.a,{style:{maxWidth:800,width:"100%",padding:"20px",borderRadius:"8px"}},o.a.createElement(re,{level:3},"Consulta de CNPJ"),o.a.createElement(_.a,{layout:"vertical",onFinish:async()=>{s("");const a=e.replace(/[^\d]+/g,"");14===a.length?await c(a):s("Por favor, insira um CNPJ v\xe1lido com 14 d\xedgitos.")}},o.a.createElement(_.a.Item,{label:"Digite o CNPJ",validateStatus:n?"error":"",help:n||""},o.a.createElement(G.a,{value:e,onChange:e=>a(e.target.value),placeholder:"00.000.000/0000-00",maxLength:18})),o.a.createElement(C.a,{type:"primary",htmlType:"submit",block:!0},"Consultar")),t&&o.a.createElement("div",{className:"company-data"},o.a.createElement(re,{level:4},t.nome),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"CNPJ:")," ",t.cnpj),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Abertura:")," ",t.abertura),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Situa\xe7\xe3o:")," ",t.situacao),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Tipo:")," ",t.tipo),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Porte:")," ",t.porte),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Natureza Jur\xeddica:")," ",t.natureza_juridica),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Atividade Principal:")," ",t.atividade_principal[0].text," (",t.atividade_principal[0].code,")"),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Endere\xe7o:")," ",t.logradouro,", ",t.numero," ",t.complemento,", ",t.bairro,", ",t.municipio," - ",t.uf,", CEP: ",t.cep),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"Telefone:")," ",t.telefone),o.a.createElement("p",null,o.a.createElement(oe,{strong:!0},"\xdaltima Atualiza\xe7\xe3o:")," ",new Date(t.ultima_atualizacao).toLocaleString()),o.a.createElement(re,{level:5},"Quadro de S\xf3cios e Administradores:"),o.a.createElement("ul",null,t.qsa.map(e=>o.a.createElement("li",{key:e.nome},e.nome," - ",e.qual))),o.a.createElement("div",{className:"footer"},o.a.createElement(oe,{strong:!0},"Consulta realizada em:")," ",(new Date).toLocaleString()," - ",o.a.createElement(oe,{strong:!0},"by Jota"))),n&&o.a.createElement(te.a,{message:"Erro",description:n,type:"error",showIcon:!0,style:{marginTop:20}})))};t(304);const{Title:ne}=m.a;var se=e=>{let{onLogin:a}=e;const[t,l]=Object(r.useState)(""),[n,c]=Object(r.useState)(!1),i=Object(s.p)();Object(r.useEffect)(()=>{(async()=>{try{const a=Object(N.d)(L,"appConfig","loginBackground");Object(N.h)(a,e=>{if(e.exists()){const a=e.data();l(a.backgroundUrl),console.log("Background atualizado:",a.backgroundUrl)}else console.log("Nenhuma configura\xe7\xe3o de fundo encontrada.")})}catch(e){console.error("Erro ao carregar o fundo:",e)}})()},[]);const m=async(e,a)=>{try{const r=b()().format("YYYY-MM-DD HH:mm:ss"),o={Id:e.id,name:e.name,email:e.email,password:e.password,Cargo1:e.Cargo1,username:e.username,profilePicUrl:e.profilePic,isOnline:a,lastActiveAt:r};console.log("Atualizando status para:",o);const l=await p.a.patch("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",o,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}});console.log("Resposta da API ao atualizar status:",l.data)}catch(t){console.error(`Erro ao atualizar o status ${a?"online":"offline"}:`,t)}},u=async e=>{try{console.log("Fazendo logout do usu\xe1rio:",e),await m(e,!1)}catch(a){console.error("Erro ao atualizar o status offline:",a)}};return Object(r.useEffect)(()=>(window.addEventListener("beforeunload",()=>u(a())),()=>{window.removeEventListener("beforeunload",()=>u(a()))}),[]),o.a.createElement("div",{className:"login-container",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"}},o.a.createElement("div",{className:"login-form-wrapper"},o.a.createElement(ae.a,{style:{maxWidth:400,margin:"auto",padding:20}},o.a.createElement(ne,{level:3,style:{textAlign:"center"}},"Login"),o.a.createElement(_.a,{layout:"vertical",onFinish:async e=>{c(!0);try{const{data:r}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",{params:{where:`(username,eq,${e.username})`},headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}});if(console.log("Dados retornados do NocoDB:",r),r.list.length>0){const t=r.list[0];if(t.password===e.password){const e={id:t.Id,name:t.name||t.username,email:t.email,profilePic:t.profilePicUrl,Cargo1:t.Cargo1,empresa:t.empresa};console.log("userProfile criado:",e),await m(e,!0),a(e),i("/home")}else d.a.error("Senha incorreta.")}else d.a.error("Usu\xe1rio n\xe3o encontrado.")}catch(t){console.error("Erro na autentica\xe7\xe3o:",t),d.a.error("Erro na autentica\xe7\xe3o.")}finally{c(!1)}}},o.a.createElement(_.a.Item,{label:"Usu\xe1rio",name:"username",rules:[{required:!0,message:"Por favor, insira seu usu\xe1rio!"}]},o.a.createElement(G.a,{placeholder:"Digite seu usu\xe1rio"})),o.a.createElement(_.a.Item,{label:"Senha",name:"password",rules:[{required:!0,message:"Por favor, insira sua senha!"}]},o.a.createElement(G.a.Password,{placeholder:"Digite sua senha"})),o.a.createElement(_.a.Item,null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",block:!0,loading:n},"Entrar"))))))},ce=t(209);t(305);const{Option:ie}=$.a,me=o.a.lazy(()=>Promise.all([t.e(3),t.e(5)]).then(t.bind(null,803))),de=o.a.lazy(()=>Promise.all([t.e(13),t.e(8)]).then(t.bind(null,794))),ue=o.a.lazy(()=>t.e(9).then(t.bind(null,795))),pe=o.a.lazy(()=>t.e(4).then(t.bind(null,802)));var Ee=()=>{const[e,a]=Object(r.useState)("analiseTecnica"),[t,l]=Object(r.useState)(0),[n,s]=Object(r.useState)(0);Object(r.useEffect)(()=>{const e=setInterval(()=>{l(e=>e+1)},6e4);return()=>clearInterval(e)},[]),Object(r.useEffect)(()=>{(async()=>{try{const a=await fetch("https://apidoixc.nexusnerds.com.br/Data/ClientesBloquados.json"),t=await a.json();s(t.length)}catch(e){console.error("Erro ao buscar dados:",e)}})()},[]);const c=Object(r.useCallback)(()=>{switch(e){case"analiseTecnica":return o.a.createElement(me,{key:t});case"cobranca":return o.a.createElement(de,{key:t});case"financeiro":return o.a.createElement(ue,{key:t});case"ordensServico":return o.a.createElement(pe,{key:t});default:return o.a.createElement(me,{key:t})}},[e,t]);return o.a.createElement("div",{className:"dashboard-container"},o.a.createElement("div",{className:"dashboard-selector"},o.a.createElement("h3",null,"Selecione o Dashboard"),o.a.createElement($.a,{defaultValue:"analiseTecnica",style:{width:200},onChange:e=>a(e)},o.a.createElement(ie,{value:"analiseTecnica"},"An\xe1lise T\xe9cnica"),o.a.createElement(ie,{value:"cobranca"},"Cobran\xe7a",o.a.createElement("span",{className:"blinking-dot",style:{display:"inline-block",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:(e=>e>50?"red":e>20?"orange":"green")(n),marginLeft:"10px"}})),o.a.createElement(ie,{value:"financeiro"},"Financeiro"),o.a.createElement(ie,{value:"ordensServico"},"Ordens de Servi\xe7o"))),o.a.createElement("div",{className:"dashboard-content"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(ce.a,{size:"large",tip:"Carregando dashboard..."})},c())))},be=t(206),ge=t(400),he=t(259),fe=t(403),ve=t(404),ye=t(405),Se=t(406),Oe=t(407),Ce=t(408),Ie=t(409),we=t(410),xe=t(411),Pe=t(412),ke=t(413);t(233);var Ae=e=>{let{userProfile:a,onLogout:t}=e;const l=Object(s.p)(),[n,c]=Object(r.useState)([]),[i,m]=Object(r.useState)(0),[E,b]=Object(r.useState)([]),[g,h]=Object(r.useState)(!0),[f,v]=Object(r.useState)(null),[y,S]=Object(r.useState)(null),O=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");Object(r.useEffect)(()=>{(async()=>{if(a)try{const{data:t}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",{params:{where:`(userId,eq,${a.id})`},headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),r=t.list.filter(e=>!e.isRead);c(t.list),m(r.length)}catch(e){console.error("Erro ao buscar notifica\xe7\xf5es:",e)}})();const e=(()=>{if(!a||!a.id)return console.error("UserID n\xe3o est\xe1 dispon\xedvel."),v("UserID n\xe3o est\xe1 dispon\xedvel."),void h(!1);console.log("Iniciando a busca de empresas no Firebase para o usu\xe1rio:",a.id);const e=Object(N.d)(L,"users",String(a.id)),t=Object(N.h)(e,e=>{if(e.exists()){const a=e.data();if(console.log("Dados recuperados do documento Firebase:",a),a.companies&&a.companies.length>0){console.log("Empresas encontradas:",a.companies),b(a.companies);const e=a.companies[0];S(e),l(`/home/${O(e)}`)}else console.log("Nenhuma empresa encontrada no documento."),b([])}else console.error("Nenhum documento encontrado para esse usu\xe1rio."),v("Nenhum documento encontrado para esse usu\xe1rio.");h(!1)},e=>{console.error("Erro ao buscar dados do Firebase:",e),v("Erro ao buscar dados do Firebase"),h(!1)});return()=>{console.log("Limpeza da escuta do Firebase."),t()}})();return a&&a.empresa&&(console.log("Chamando uploadCompaniesToFirebase"),M(a).then(()=>console.log("Dados enviados para o Firebase")).catch(e=>console.error("Erro ao enviar dados para o Firebase:",e))),()=>{e&&e()}},[a]);const w=e=>{let{key:a}=e;switch(a){case"editProfile":l("/home/editar-perfil");break;case"createUser":l("/home/criar-usuario");break;case"sendNotification":l("/home/send-notification");break;case"config":l("/home/config");break;case"manageShortcuts":l("/home/gerenciar-atalhos");break;case"usuariosOnline":l("/home/usuarios-online");break;case"notas":l("/home/notas");break;case"tarefas":l("/home/tarefas");break;case"monitorVPS":l("/home/monitor-vps");break;case"galeria":l("/home/galeria");break;case"logout":t();break;default:l(`/home/${O(a)}`)}},x=o.a.createElement(u.a,{onClick:w},g?o.a.createElement(u.a.Item,{disabled:!0},"Carregando empresas..."):E.length>0?E.map(e=>o.a.createElement(u.a.Item,{key:e},e)):o.a.createElement(u.a.Item,{disabled:!0},"Nenhuma empresa dispon\xedvel")),P=o.a.createElement(u.a,null,n.length>0?n.map(e=>o.a.createElement(u.a.Item,{key:e.Id,onClick:()=>(async e=>{try{const t={Id:e.Id,title:e.title,userId:e.userId,message:e.message,isRead:!0,createdAt_:e.createdAt_};await p.a.patch("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",t,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),c(a=>a.map(a=>a.Id===e.Id?{...a,isRead:!0}:a)),m(e=>e-1)}catch(a){console.error("Erro ao marcar notifica\xe7\xe3o como lida:",a)}})(e)},e.title," - ",e.message,o.a.createElement(C.a,{type:"link",onClick:a=>{a.stopPropagation(),(async e=>{try{await p.a.delete("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"},data:{Id:e.Id}}),c(a=>a.filter(a=>a.Id!==e.Id)),m(e=>e>0?e-1:0),d.a.success("Notifica\xe7\xe3o deletada com sucesso.")}catch(a){console.error("Erro ao deletar notifica\xe7\xe3o:",a),d.a.error("Erro ao deletar a notifica\xe7\xe3o.")}})(e)}},"Deletar"))):o.a.createElement(u.a.Item,null,"Voc\xea n\xe3o tem notifica\xe7\xf5es.")),k=o.a.createElement(u.a,{onClick:w},o.a.createElement(u.a.Item,{key:"editProfile",icon:o.a.createElement(he.a,null)},"Editar Perfil"),("Administrador"===a.Cargo1||"Desenvolvedor"===a.Cargo1)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a.Item,{key:"createUser",icon:o.a.createElement(fe.a,null)},"Criar Usu\xe1rio"),o.a.createElement(u.a.Item,{key:"sendNotification",icon:o.a.createElement(ve.a,null)},"Enviar Notifica\xe7\xe3o"),o.a.createElement(u.a.Item,{key:"usuariosOnline",icon:o.a.createElement(ye.a,null)},"Usu\xe1rios Online")),"Desenvolvedor"===a.Cargo1&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a.Item,{key:"config",icon:o.a.createElement(Se.a,null)},"Configura\xe7\xf5es"),o.a.createElement(u.a.Item,{key:"monitorVPS",icon:o.a.createElement(Oe.a,null)},"Monitor VPS"),o.a.createElement(u.a.Item,{key:"galeria",icon:o.a.createElement(Ce.a,null)},"Galeria")),o.a.createElement(u.a.Item,{key:"notas",icon:o.a.createElement(Ie.a,null)},"Notas"),o.a.createElement(u.a.Item,{key:"tarefas",icon:o.a.createElement(we.a,null)},"Tarefas"),o.a.createElement(u.a.Item,{key:"manageShortcuts",icon:o.a.createElement(Ce.a,null)},"Atalhos Pessoais"),o.a.createElement(u.a.Item,{key:"logout",icon:o.a.createElement(xe.a,null)},"Sair"));return o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"header-left"},o.a.createElement("div",{className:"user-info"},o.a.createElement("span",null,a.name))),o.a.createElement("div",{className:"header-right"},o.a.createElement(be.a,{overlay:P,placement:"bottomRight",trigger:["click"]},o.a.createElement("div",{className:"notification-icon"},o.a.createElement(I.a,{count:i,className:"notification-count"},o.a.createElement(Pe.a,{style:{fontSize:"24px",cursor:"pointer"}})))),o.a.createElement(be.a,{overlay:x,placement:"bottomRight",trigger:["click"]},o.a.createElement("div",{className:"switch-icon"},y?o.a.createElement("span",null,y):o.a.createElement(ke.a,{style:{fontSize:"24px",cursor:"pointer"}}))),o.a.createElement(be.a,{overlay:k,placement:"bottomRight",trigger:["click"]},o.a.createElement(ge.a,{size:48,src:a.profilePic||null,icon:!a.profilePic&&o.a.createElement(ye.a,null),style:{cursor:"pointer"}}))))},je=t(389),Te=t(414);var Ne=e=>{let{onImageUpload:a}=e;const[t,l]=Object(r.useState)(!1);return o.a.createElement(je.a,{customRequest:async e=>{let{file:t}=e;l(!0);const r=Object(D.d)(z,`images/${t.name}`);try{await Object(D.e)(r,t);const e=await Object(D.b)(r);a(e),d.a.success("Imagem carregada com sucesso!")}catch(o){d.a.error("Erro ao carregar a imagem."),console.error("Erro ao carregar a imagem no Firebase:",o)}finally{l(!1)}},showUploadList:!1},o.a.createElement(C.a,{icon:o.a.createElement(Te.a,null),loading:t},"Carregar Imagem"))};t(306);var Re=e=>{let{userProfile:a,onProfileUpdate:t}=e;const[l]=_.a.useForm(),[n,s]=Object(r.useState)(!1);Object(r.useEffect)(()=>{a&&a.id?p.a.get(`https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records/${a.id}`,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}).then(e=>{const a=e.data;a&&l.setFieldsValue({name:a.name,email:a.email,password:a.password,profilePicUrl:a.profilePicUrl,Cargo1:a.Cargo1})}).catch(e=>{console.error("Erro ao buscar dados do usu\xe1rio:",e),d.a.error("Erro ao buscar dados do usu\xe1rio.")}):d.a.error("ID do usu\xe1rio n\xe3o est\xe1 definido.")},[a,l]);return o.a.createElement("div",{className:"editar-perfil-container"},o.a.createElement(_.a,{form:l,layout:"vertical",onFinish:e=>{a&&a.id?(s(!0),p.a.patch("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",{Id:a.id,email:e.email,password:e.password,Cargo1:e.Cargo1,name:e.name,profilePicUrl:e.profilePicUrl},{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}).then(r=>{const o={...a,name:e.name,email:e.email,profilePic:e.profilePicUrl};t(o),d.a.success("Perfil atualizado com sucesso!")}).catch(e=>{console.error("Erro ao atualizar o perfil:",e),d.a.error("Erro ao atualizar o perfil.")}).finally(()=>{s(!1)})):d.a.error("ID do usu\xe1rio n\xe3o est\xe1 definido.")},initialValues:{name:"",email:"",password:"",profilePicUrl:"",Cargo1:""}},o.a.createElement(_.a.Item,{label:"Nome",name:"name",rules:[{required:!0,message:"Por favor, insira seu nome!"}]},o.a.createElement(G.a,{placeholder:"Digite seu nome Completo"})),o.a.createElement(_.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor, insira seu email!"}]},o.a.createElement(G.a,{placeholder:"Digite seu email"})),o.a.createElement(_.a.Item,{label:"Senha",name:"password",rules:[{required:!0,message:"Por favor, insira sua senha!"}]},o.a.createElement(G.a.Password,{placeholder:"Digite sua senha"})),o.a.createElement(_.a.Item,{label:"URL da Foto de Perfil",name:"profilePicUrl",rules:[{required:!1,message:"Por favor, insira a URL da sua foto de perfil!"}]},o.a.createElement(G.a,{placeholder:"Digite a URL da sua foto de perfil",disabled:!0})),o.a.createElement(_.a.Item,{label:"Upload de Foto"},o.a.createElement(Ne,{onImageUpload:e=>{l.setFieldsValue({profilePicUrl:e})}})),o.a.createElement(_.a.Item,{label:"Cargo",name:"Cargo1",rules:[{required:!0,message:"Por favor, selecione seu cargo!"}]},o.a.createElement(G.a,{value:a.Cargo1,disabled:!0})),o.a.createElement(_.a.Item,null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",block:!0,loading:n},"Salvar Altera\xe7\xf5es"))))};t(307);var De=()=>{const[e]=_.a.useForm(),[a,t]=Object(r.useState)(!1),[l,n]=Object(r.useState)("");return o.a.createElement("div",{className:"criar-usuario-container"},o.a.createElement(_.a,{form:e,layout:"vertical",onFinish:a=>{t(!0);const r={name:a.name,email:a.email,password:a.password,Cargo1:a.Cargo1,username:a.username,profilePicUrl:l,empresa:a.empresa};console.log("Payload enviado:",r),p.a.post("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",r,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}).then(a=>{console.log("Resposta da API:",a.data),d.a.success("Usu\xe1rio criado com sucesso!"),e.resetFields()}).catch(e=>{var a;console.error("Erro ao criar usu\xe1rio:",(null===(a=e.response)||void 0===a?void 0:a.data)||e.message),d.a.error("Erro ao criar usu\xe1rio.")}).finally(()=>{t(!1)})},initialValues:{name:"",email:"",password:"",username:"",Cargo1:"",empresa:""}},o.a.createElement(_.a.Item,{label:"Nome",name:"name",rules:[{required:!0,message:"Por favor, insira o nome!"}]},o.a.createElement(G.a,{placeholder:"Digite o nome completo"})),o.a.createElement(_.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor, insira o email!"}]},o.a.createElement(G.a,{placeholder:"Digite o email"})),o.a.createElement(_.a.Item,{label:"Senha",name:"password",rules:[{required:!0,message:"Por favor, insira a senha!"}]},o.a.createElement(G.a.Password,{placeholder:"Digite a senha"})),o.a.createElement(_.a.Item,{label:"Nome de Usu\xe1rio (Login)",name:"username",rules:[{required:!0,message:"Por favor, insira o nome de usu\xe1rio!"}]},o.a.createElement(G.a,{placeholder:"Digite o nome de usu\xe1rio"})),o.a.createElement(_.a.Item,{label:"Cargo",name:"Cargo1",rules:[{required:!0,message:"Por favor, selecione o cargo!"}]},o.a.createElement($.a,{placeholder:"Selecione o cargo"},o.a.createElement($.a.Option,{value:"Administrador"},"Administrador"),o.a.createElement($.a.Option,{value:"Financeiro"},"Financeiro"),o.a.createElement($.a.Option,{value:"Vendedor"},"Vendedor"))),o.a.createElement(_.a.Item,{label:"Empresa",name:"empresa",rules:[{required:!0,message:"Por favor, selecione uma empresa!"}]},o.a.createElement($.a,{placeholder:"Selecione a empresa"},o.a.createElement($.a.Option,{value:"Max Fibra"},"Max Fibra"),o.a.createElement($.a.Option,{value:"Vir Telecom"},"Vir Telecom"),o.a.createElement($.a.Option,{value:"Reis Services"},"Reis Services"))),o.a.createElement(_.a.Item,{label:"Upload de Foto"},o.a.createElement(Ne,{onImageUpload:e=>{n(e)}})),o.a.createElement(_.a.Item,null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",block:!0,loading:a},"Criar Usu\xe1rio"))))},Fe=t(402),Le=t(396),ze=t(392),Me=t(262),qe=t(261);const Ue=e=>new Promise((a,t)=>{const r=Object(D.d)(z,`images/${e.name}`),o=Object(D.f)(r,e);o.on("state_changed",null,e=>{console.error("Erro durante o upload da imagem:",e),t(e)},()=>{Object(D.b)(o.snapshot.ref).then(e=>{a(e)}).catch(e=>{console.error("Erro ao obter a URL de download:",e),t(e)})})}),Ve=async()=>{try{const a=Object(N.b)(L,"galleryImages");return(await Object(N.f)(a)).docs.map(e=>({id:e.id,url:e.data().url,label:e.data().label||`Imagem ${e.id}`}))}catch(e){throw console.error("Erro ao buscar imagens da galeria: ",e),e}};t(308);const{Option:Xe}=$.a;var $e=e=>{let{userProfile:a}=e;const[t]=_.a.useForm(),[l,n]=Object(r.useState)(!1),[s,c]=Object(r.useState)([]),[i,m]=Object(r.useState)(!1),[u,p]=Object(r.useState)(null),[E,b]=Object(r.useState)(!1),[g,h]=Object(r.useState)([""]),[f,v]=Object(r.useState)("upload"),[y,S]=Object(r.useState)(""),[I,w]=Object(r.useState)([]),x=s.length;Object(r.useEffect)(()=>{(async()=>{try{const a=(await Ve()).map(e=>({value:e.url,label:e.label}));w(a)}catch(e){d.a.error("Erro ao carregar as imagens: "+e.message)}})()},[]);const P={gutter:24,xs:1,sm:2,md:2,lg:3,xl:3,xxl:3===x?3:2},k=Object(r.useCallback)(async()=>{if(null===a||void 0===a?void 0:a.id)try{const t=await(async e=>{try{return(await Object(N.f)(Object(N.b)(L,`users/${e}/shortcuts`))).docs.map(e=>({id:e.id,...e.data()}))}catch(a){throw console.error("Erro ao obter atalhos do Firestore:",a),new Error("Erro ao obter atalhos do Firestore: "+a.message)}})(a.id);console.log("Simple shortcuts fetched from Firebase:",t);const r=await(async e=>{try{const t=Object(N.b)(L,`users/${e}/multiShortcuts`),r=await Object(N.f)(t);console.log("Snapshot de multi atalhos:",r);const o=r.docs.map(e=>({id:e.id,...e.data()}));return console.log("Multi atalhos mapeados:",o),o}catch(a){throw console.error("Erro ao buscar multi atalhos: ",a),a}})(a.id);console.log("Multi shortcuts fetched from Firebase:",r);const o=[...t,...r];c(o)}catch(e){d.a.error("Erro ao buscar atalhos: "+e.message)}},[null===a||void 0===a?void 0:a.id]);Object(r.useEffect)(()=>{k()},[k]);const A=()=>{t.resetFields(),h([""]),b(!1),v("upload"),S("")},j=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{t?await(async(e,a)=>{try{const r=Object(N.d)(L,`users/${e}/multiShortcuts`,a);await Object(N.c)(r),console.log(`Multi Atalho ${a} deletado com sucesso.`)}catch(t){throw console.error("Erro ao deletar multi atalho do Firestore:",t),new Error("Erro ao deletar multi atalho: "+t.message)}})(a.id,e):await(async(e,a)=>{try{const r=Object(N.d)(L,`users/${e}/shortcuts`,a);return await Object(N.c)(r),!0}catch(t){throw console.error("Erro ao apagar o atalho no Firestore:",t),new Error("Erro ao apagar o atalho no Firestore: "+t.message)}})(a.id,e),d.a.success("Atalho exclu\xeddo com sucesso!"),k()}catch(r){d.a.error("Erro ao excluir o atalho: "+r.message)}};return o.a.createElement("div",{className:"gerenciar-atalhos"},o.a.createElement("div",{className:"shortcut-list"},o.a.createElement(O.a,{grid:P,dataSource:s,renderItem:e=>o.a.createElement(O.a.Item,{className:"atalho-item"},o.a.createElement(ae.a,{hoverable:!0,cover:o.a.createElement("img",{alt:e.altText,src:e.imgSrc}),actions:[o.a.createElement(he.a,{key:"edit",onClick:()=>(e=>{p(e),m(!0);const a=Array.isArray(e.links)&&e.links.length>0;b(a),console.log("Links recebidos do Firebase:",e.links),h(a?e.links:[""]);const r={altText:e.altText||"",url:a?"":e.url,imageSource:"upload",imageUrl:e.imgSrc||"",shortcutType:a?"multi":"single"};a&&e.links.forEach((e,a)=>{r[`link${a}`]=e}),t.setFieldsValue(r)})(e)}),o.a.createElement(Fe.a,{title:"Tem certeza que deseja excluir este atalho?",onConfirm:()=>j(e.id,Array.isArray(e.links)),okText:"Sim",cancelText:"N\xe3o"},o.a.createElement(Me.a,{key:"delete"}))]},o.a.createElement(ae.a.Meta,{title:o.a.createElement(o.a.Fragment,null,e.altText||e.text,Array.isArray(e.links)&&e.links.length>0&&o.a.createElement(Le.a,{color:"green",style:{marginLeft:"8px"}},"Multi Atalho")),description:o.a.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),Array.isArray(e.links)&&e.links.length>0?e.links.forEach(e=>window.open(e,"_blank")):window.open(e.url,"_blank")}},"Acessar")})))})),o.a.createElement(C.a,{type:"primary",shape:"circle",icon:o.a.createElement(qe.a,null),size:"large",className:"add-shortcut-btn",onClick:()=>m(!0)}),o.a.createElement(ze.a,{title:u?"Editar Atalho":"Adicionar Atalho",visible:i,onCancel:()=>{m(!1),p(null),A()},footer:null},o.a.createElement(_.a,{form:t,onFinish:async e=>{n(!0);try{var t,r;let l,s=e.image;if("upload"===f&&(null===(t=e.image)||void 0===t?void 0:null===(r=t.file)||void 0===r?void 0:r.originFileObj)?s=await Ue(e.image.file.originFileObj):"predefined"===f?s=e.predefinedImage:"url"===f&&(s=e.imageUrl),E){const t={links:g,imgSrc:s,altText:e.altText,createdAt:new Date};if(u){const e=Object(N.d)(L,`users/${a.id}/multiShortcuts/${u.id}`);if(!(await Object(N.e)(e)).exists())return d.a.error("Erro: O multi atalho que voc\xea est\xe1 tentando editar n\xe3o existe."),void m(!1);console.log("Editando Multi Atalho com ID:",u.id),await(async(e,a,t)=>{try{const o=Object(N.d)(L,`users/${e}/multiShortcuts`,a);return await Object(N.k)(o,t),!0}catch(r){throw console.error("Erro ao editar multi atalho no Firestore:",r),new Error("Erro ao editar multi atalho no Firestore: "+r.message)}})(a.id,u.id,t),d.a.success("Multi Atalho atualizado com sucesso!"),c(e=>e.map(e=>e.id===u.id?{...e,...t}:e))}else{const e=await(async(e,a)=>{try{return(await Object(N.a)(Object(N.b)(L,`users/${e}/multiShortcuts`),a)).id}catch(t){throw console.error("Erro ao salvar multi atalho no Firestore:",t),new Error("Erro ao salvar multi atalho no Firestore: "+t.message)}})(a.id,t);l={id:e,...t},c(e=>[...e,l]),d.a.success("Multi Atalho adicionado com sucesso!")}}else{const t={url:e.url,imgSrc:s,altText:e.altText,text:e.altText};if(u){const e=Object(N.d)(L,`users/${a.id}/shortcuts/${u.id}`);if(!(await Object(N.e)(e)).exists())return d.a.error("Erro: O atalho que voc\xea est\xe1 tentando editar n\xe3o existe."),void m(!1);console.log("Editando Atalho com ID:",u.id),await(async(e,a,t)=>{try{const o=Object(N.d)(L,`users/${e}/shortcuts`,a);return await Object(N.k)(o,t),!0}catch(r){throw console.error("Erro ao editar o atalho no Firestore:",r),new Error("Erro ao editar o atalho no Firestore: "+r.message)}})(a.id,u.id,t),d.a.success("Atalho atualizado com sucesso!"),c(e=>e.map(e=>e.id===u.id?{...e,...t}:e))}else{const e=await(async(e,a)=>{try{return(await Object(N.a)(Object(N.b)(L,`users/${e}/shortcuts`),a)).id}catch(t){throw console.error("Erro ao salvar atalho no Firestore:",t),new Error("Erro ao salvar atalho no Firestore: "+t.message)}})(a.id,t);l={id:e,...t},c(e=>[...e,l]),d.a.success("Atalho adicionado com sucesso!")}}m(!1),p(null),A()}catch(o){console.error("Erro ao salvar o atalho no Firestore:",o.message),d.a.error("Erro ao salvar o atalho: "+o.message)}finally{n(!1)}},layout:"vertical",initialValues:u||{url:"",altText:"",image:""}},o.a.createElement(_.a.Item,{label:"T\xedtulo",name:"altText",rules:[{required:!0,message:"Por favor, insira o t\xedtulo!"}]},o.a.createElement(G.a,{placeholder:"Digite o t\xedtulo do atalho"})),o.a.createElement(_.a.Item,{label:"Fonte da Imagem",name:"imageSource",rules:[{required:!0,message:"Por favor, selecione a fonte da imagem!"}]},o.a.createElement($.a,{value:f,onChange:v},o.a.createElement(Xe,{value:"upload"},"Carregar Imagem"),o.a.createElement(Xe,{value:"predefined"},"Selecionar do Banco de Imagens"),o.a.createElement(Xe,{value:"url"},"Inserir URL da Imagem"))),"upload"===f&&o.a.createElement(_.a.Item,{label:"Imagem",name:"image",rules:[{required:!0,message:"Por favor, insira a imagem do atalho!"}]},o.a.createElement(je.a,{listType:"picture",maxCount:1,defaultFileList:u?[{url:u.imgSrc}]:[]},o.a.createElement(C.a,{icon:o.a.createElement(Te.a,null)},"Carregar Imagem"))),"predefined"===f&&o.a.createElement(_.a.Item,{label:"Imagem Predefinida",name:"predefinedImage",rules:[{required:!0,message:"Por favor, selecione uma imagem predefinida!"}]},o.a.createElement($.a,{placeholder:"Escolha uma imagem"},I.map(e=>o.a.createElement(Xe,{key:e.value,value:e.value},e.label)))),"url"===f&&o.a.createElement(_.a.Item,{label:"URL da Imagem",name:"imageUrl",rules:[{required:!0,message:"Por favor, insira a URL da imagem!"}]},o.a.createElement(G.a,{placeholder:"Digite a URL da imagem",value:y,onChange:e=>S(e.target.value)})),o.a.createElement(_.a.Item,{label:"Tipo de Atalho",name:"shortcutType",rules:[{required:!0,message:"Por favor, selecione o tipo de atalho!"}]},o.a.createElement($.a,{value:E?"multi":"single",onChange:e=>{b("multi"===e),t.setFieldsValue({url:"",links:[""]})}},o.a.createElement(Xe,{value:"single"},"Atalho \xdanico"),o.a.createElement(Xe,{value:"multi"},"Multi Atalho"))),E?o.a.createElement(o.a.Fragment,null,g.map((e,a)=>o.a.createElement(_.a.Item,{key:a,label:`Link ${a+1}`,name:`link${a}`,rules:[{required:!0,message:`Por favor, insira o link ${a+1}!`}]},o.a.createElement(G.a,{placeholder:`Digite o link ${a+1}`,value:e,onChange:e=>((e,a)=>{const t=[...g];t[e]=a,h(t)})(a,e.target.value)}))),o.a.createElement(C.a,{onClick:()=>{h([...g,""])},style:{marginTop:10}},"Adicionar Mais")):o.a.createElement(_.a.Item,{label:"URL",name:"url",rules:[{required:!0,message:"Por favor, insira a URL!"}]},o.a.createElement(G.a,{placeholder:"Digite a URL do atalho"})),o.a.createElement(C.a,{type:"primary",htmlType:"submit",loading:l,block:!0},u?"Salvar Altera\xe7\xf5es":"Adicionar Atalho"))))};var Be=e=>{let{userProfile:a}=e;const[t,l]=Object(r.useState)(!1);if("Desenvolvedor"!==(null===a||void 0===a?void 0:a.Cargo1))return o.a.createElement("p",null,"Acesso negado. Somente desenvolvedores podem acessar esta p\xe1gina.");return o.a.createElement("div",{className:"config-screen-container"},o.a.createElement(ae.a,{style:{maxWidth:500,margin:"auto"}},o.a.createElement("h2",null,"Configura\xe7\xf5es"),o.a.createElement(_.a,{layout:"vertical",onFinish:async e=>{l(!0);try{var a,t;let o=e.backgroundUrl;(null===(a=e.image)||void 0===a?void 0:null===(t=a.file)||void 0===t?void 0:t.originFileObj)&&(o=await Ue(e.image.file.originFileObj));const n=Object(N.d)(L,"appConfig","loginBackground");await Object(N.j)(n,{backgroundUrl:o},{merge:!0}),d.a.success("Fundo da tela de login atualizado com sucesso!")}catch(r){d.a.error("Erro ao atualizar o fundo da tela de login: "+r.message)}finally{l(!1)}}},o.a.createElement(_.a.Item,{label:"URL da Imagem de Fundo",name:"backgroundUrl",rules:[{required:!1,message:"Por favor, insira a URL da imagem!"}]},o.a.createElement(G.a,{placeholder:"Digite a URL da imagem de fundo"})),o.a.createElement(_.a.Item,{label:"Ou Carregue uma Imagem",name:"image"},o.a.createElement(je.a,{listType:"picture",maxCount:1},o.a.createElement(C.a,{icon:o.a.createElement(Te.a,null)},"Carregar Imagem"))),o.a.createElement(C.a,{type:"primary",htmlType:"submit",loading:t,block:!0},"Salvar Fundo"))))},_e=t(155);const{Option:Ge}=$.a;var Je=()=>{const[e,a]=Object(r.useState)([]),[t]=_.a.useForm();Object(r.useEffect)(()=>{(async()=>{try{const{data:t}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}});a(t.list)}catch(e){console.error("Erro ao buscar usu\xe1rios:",e)}})()},[]);const l=async(e,a)=>{for(const t of e)await p.a.post("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",{...a,userId:t},{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}})};return o.a.createElement("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"}},o.a.createElement(ae.a,{bordered:!1,style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",borderRadius:"8px"}},o.a.createElement("h2",{style:{textAlign:"center",marginBottom:"20px"}},"Enviar Notifica\xe7\xe3o"),o.a.createElement(_.a,{form:t,onFinish:async a=>{try{const o={title:a.title,message:a.message,isRead:!1,createdAt_:null};if(a.sendToAll){const a=e.map(e=>e.Id);await l(a,o)}else await l(a.userIds,o);d.a.success("Notifica\xe7\xe3o enviada com sucesso!"),t.resetFields()}catch(r){console.error("Erro ao enviar notifica\xe7\xe3o:",r),d.a.error("Erro ao enviar a notifica\xe7\xe3o.")}},layout:"vertical"},o.a.createElement(_.a.Item,{label:"T\xedtulo",name:"title",rules:[{required:!0,message:"Por favor, insira o t\xedtulo da notifica\xe7\xe3o."}]},o.a.createElement(G.a,null)),o.a.createElement(_.a.Item,{label:"Mensagem",name:"message",rules:[{required:!0,message:"Por favor, insira a mensagem da notifica\xe7\xe3o."}]},o.a.createElement(G.a.TextArea,{rows:4})),o.a.createElement(_.a.Item,{name:"sendToAll",valuePropName:"checked"},o.a.createElement(_e.a,null,"Enviar para todos os usu\xe1rios")),!t.getFieldValue("sendToAll")&&o.a.createElement(_.a.Item,{label:"Selecione os usu\xe1rios",name:"userIds",rules:[{required:!0,message:"Por favor, selecione ao menos um usu\xe1rio."}]},o.a.createElement($.a,{mode:"multiple",placeholder:"Selecione os usu\xe1rios"},e.map(e=>o.a.createElement(Ge,{key:e.Id,value:e.Id},e.name)))),o.a.createElement(_.a.Item,null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",block:!0,style:{backgroundColor:"#1890ff",borderColor:"#1890ff"}},"Enviar Notifica\xe7\xe3o")))))};t(309);var Ke=()=>{const[e,a]=Object(r.useState)([]);Object(r.useEffect)(()=>{const e=setInterval(async()=>{try{const{data:t}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",{params:{where:"(isOnline,eq,true)"},headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}});a(t.list)}catch(e){console.error("Erro ao buscar usu\xe1rios online:",e)}},3e3);return()=>clearInterval(e)},[]);const t=e=>o.a.createElement(I.a,{status:e?"success":"error",text:e?"Online Agora":"Offline"});return o.a.createElement("div",{className:"usuarios-online-container"},o.a.createElement(ae.a,{title:"Usu\xe1rios Online",bordered:!1},o.a.createElement(O.a,{itemLayout:"horizontal",dataSource:e,renderItem:e=>o.a.createElement(O.a.Item,null,o.a.createElement(O.a.Item.Meta,{avatar:o.a.createElement(ge.a,{src:e.profilePicUrl||"https://via.placeholder.com/150"}),title:o.a.createElement("div",{className:"user-title"},e.name||e.username," ",t(e.isOnline)),description:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"last-active"},"\xdaltima Atividade: ",new Date(e.lastActiveAt).toLocaleString()))}))})))},Ye=t(384),Ze=t(385),He=t(386);t(310);const{Option:We}=$.a;var Qe=e=>{let{userProfile:a}=e;const[t,l]=Object(r.useState)({}),[n,c]=Object(r.useState)([]),[i,m]=Object(r.useState)([]),[d]=_.a.useForm(),u=Object(s.p)(),[E,b]=Object(r.useState)(null),g="Administrador"===(null===a||void 0===a?void 0:a.Cargo1)||"Desenvolvedor"===(null===a||void 0===a?void 0:a.Cargo1);Object(r.useEffect)(()=>{g||u("/home")},[g,u]),Object(r.useEffect)(()=>{(async()=>{try{const{data:a}=await p.a.get("https://apidoixc.nexusnerds.com.br/Data/Resultados_Status.json");l(a.contagem),c(a.detalhes),m(a.detalhes)}catch(e){console.error("Erro ao buscar os dados de status:",e)}})()},[]);const h=[{title:"Status",dataIndex:"status",key:"status",render:e=>o.a.createElement("span",{style:{color:"online"===e?"green":"desligado"===e?"orange":"red"}},"offline"===e?"Desligado":e.charAt(0).toUpperCase()+e.slice(1))},{title:"SN",dataIndex:"sn",key:"sn"},{title:"Porta",dataIndex:"port",key:"port"},{title:"Bairro",dataIndex:"bairro",key:"bairro"}];return o.a.createElement("div",{className:"detalhes-dispositivos-container"},o.a.createElement("h2",null,"Detalhes dos Dispositivos",E?` (${E.charAt(0).toUpperCase()+E.slice(1)} - ${i.length})`:""),o.a.createElement(_.a,{layout:"inline",form:d,onFinish:e=>{b(e.status);const a=n.filter(a=>(!e.status||a.status===e.status)&&(!e.sn||a.sn.toLowerCase().includes(e.sn.toLowerCase()))&&(!e.port||a.port===e.port)&&(!e.bairro||a.bairro===e.bairro));m(a)},style:{marginBottom:20}},o.a.createElement(_.a.Item,{name:"status",label:"Status"},o.a.createElement($.a,{placeholder:"Selecione o status",allowClear:!0,style:{width:150}},o.a.createElement(We,{value:"online"},"Online"),o.a.createElement(We,{value:"offline"},"Desligado"),o.a.createElement(We,{value:"los"},"Perda de Sinal (LOS)"))),o.a.createElement(_.a.Item,{name:"sn",label:"SN"},o.a.createElement(G.a,{placeholder:"Digite o SN"})),o.a.createElement(_.a.Item,{name:"port",label:"Porta"},o.a.createElement($.a,{placeholder:"Selecione a Porta",allowClear:!0,style:{width:100}},Array.from({length:13},(e,a)=>a+1).map(e=>o.a.createElement(We,{key:e,value:e},e)))),o.a.createElement(_.a.Item,{name:"bairro",label:"Bairro"},o.a.createElement($.a,{placeholder:"Selecione o Bairro",allowClear:!0,style:{width:300}},o.a.createElement(We,{value:"BAIRRO ARLINDO VILLASCHI 1-VILONE"},"BAIRRO ARLINDO VILLASCHI 1-VILONE"),o.a.createElement(We,{value:"BAIRRO SOTECO"},"BAIRRO SOTECO"),o.a.createElement(We,{value:"BAIRRO AREINHA"},"BAIRRO AREINHA"),o.a.createElement(We,{value:"BAIRRO VALE DO SOL"},"BAIRRO VALE DO SOL"),o.a.createElement(We,{value:"BAIRRO CAXIAS DO SUL"},"BAIRRO CAXIAS DO SUL"),o.a.createElement(We,{value:"AV GURAPARI"},"AV GURAPARI"),o.a.createElement(We,{value:"BAIRRO NOVA BETHANIA"},"BAIRRO NOVA BETHANIA"),o.a.createElement(We,{value:"BAIRRO UNIVERSAL"},"BAIRRO UNIVERSAL"))),o.a.createElement(_.a.Item,null,o.a.createElement(C.a,{type:"primary",htmlType:"submit"},"Filtrar"))),o.a.createElement(Ye.a,null,o.a.createElement(Ze.a,{span:24},o.a.createElement(ae.a,{title:"Detalhes dos Dispositivos"},o.a.createElement(He.a,{columns:h,dataSource:i,rowKey:"sn",pagination:{pageSize:5},scroll:{x:!0}})))))};t(311);const{Option:ea}=$.a,aa=o.a.lazy(()=>t.e(11).then(t.bind(null,796))),ta=o.a.lazy(()=>t.e(6).then(t.bind(null,797))),ra=o.a.lazy(()=>t.e(7).then(t.bind(null,798))),oa=o.a.lazy(()=>t.e(10).then(t.bind(null,799)));var la=()=>{const[e,a]=Object(r.useState)("ativosVIRTELECOM"),[t,l]=Object(r.useState)(0);Object(r.useEffect)(()=>{const e=setInterval(()=>{l(e=>e+1)},6e4);return()=>clearInterval(e)},[]);const n=Object(r.useCallback)(()=>{switch(e){case"canceladosVIRTELECOM":return o.a.createElement(aa,{key:t});case"ativosVIRTELECOM":return o.a.createElement(ta,{key:t});case"bloqueadosVIRTELECOM":return o.a.createElement(ra,{key:t});case"inativosVIRTELECOM":return o.a.createElement(oa,{key:t});default:return o.a.createElement(aa,{key:t})}},[e,t]);return o.a.createElement("div",{className:"dashboard-container-Virtelecom"},o.a.createElement("div",{className:"dashboard-selector"},o.a.createElement("h3",null,"Selecione o Dashboard"),o.a.createElement($.a,{defaultValue:"ativosVIRTELECOM",style:{width:200},onChange:e=>a(e)},o.a.createElement(ea,{value:"ativosVIRTELECOM"},"Ativos"),o.a.createElement(ea,{value:"bloqueadosVIRTELECOM"},"Bloqueados"),o.a.createElement(ea,{value:"canceladosVIRTELECOM"},"Cancelados"),o.a.createElement(ea,{value:"inativosVIRTELECOM"},"Inativos"))),o.a.createElement("div",{className:"dashboard-content"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(ce.a,{size:"large",tip:"Carregando dashboard..."})},n())))},na=t(223),sa=t.n(na);t(366);t(367);const{Title:ca}=m.a;var ia=e=>{let{userProfile:a}=e;const[t,l]=Object(r.useState)(""),[n,s]=Object(r.useState)(""),[c,i]=Object(r.useState)([]),[m,d]=Object(r.useState)(!1),[u,p]=Object(r.useState)(null),E=a.id;Object(r.useEffect)(()=>{g()},[E]);const g=async()=>{try{const a=await(async e=>{try{const t=Object(N.i)(Object(N.b)(L,"notes"),Object(N.l)("userId","==",e));return(await Object(N.f)(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(a){throw console.error("Erro ao recuperar notas do Firestore: ",a),a}})(E);i(a)}catch(e){console.error("Erro ao recuperar notas:",e)}},h=()=>{d(!1),p(null)},f=e=>{const a=b()().startOf("day");return b()(1e3*e.seconds).startOf("day").isSame(a)?"Novo":""},v=(e,a)=>e.length<=a?e:e.substring(0,a)+"...";return o.a.createElement("div",{className:"notes-container"},o.a.createElement(ca,{level:2},"Notas"),o.a.createElement(ae.a,{className:"note-input-card"},o.a.createElement(G.a,{size:"large",className:"notes-input",value:t,onChange:e=>l(e.target.value),placeholder:"T\xedtulo"}),o.a.createElement(sa.a,{value:n,onChange:s,modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{align:[]}],["link","image"],["clean"]],clipboard:{matchVisual:!1}},formats:["header","font","list","bullet","bold","italic","underline","strike","blockquote","color","background","align","link","image"],placeholder:"Escreva sua nota aqui...",className:"note-editor"}),o.a.createElement(C.a,{type:"primary",size:"large",onClick:async()=>{if(E&&t&&n)try{const a=new Date;await(async(e,a,t,r)=>{try{return await Object(N.a)(Object(N.b)(L,"notes"),{userId:e,title:a,content:t,expirationDate:r?new Date(r):null,createdAt:new Date,updatedAt:new Date})}catch(o){throw console.error("Erro ao adicionar nota ao Firestore: ",o),o}})(E,t,n,a),l(""),s(""),g()}catch(e){console.error("Erro ao adicionar nota: ",e)}else console.error("Dados incompletos: userId, title, content s\xe3o necess\xe1rios.")},className:"add-note-button"},"Adicionar Nota")),o.a.createElement(ca,{level:3,style:{marginTop:"30px",textAlign:"center",color:"#2c3e50"}},"Minhas Notas"),o.a.createElement("div",{className:"notes-list"},c.map(e=>o.a.createElement(ae.a,{key:e.id,className:"note-card",title:e.title,extra:o.a.createElement("span",{style:{color:"orange"}},f(e.expirationDate))},o.a.createElement("div",{className:"note-content"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:v(e.content,100)}})),o.a.createElement("div",{className:"note-footer"},o.a.createElement(C.a,{type:"link",onClick:()=>(e=>{p(e),d(!0)})(e)},"Ver Mais"),o.a.createElement("span",null,e.expirationDate?b()(1e3*e.expirationDate.seconds).format("DD/MM/YYYY"):"Sem data"))))),o.a.createElement(ze.a,{title:null===u||void 0===u?void 0:u.title,visible:m,onCancel:h,footer:[o.a.createElement(C.a,{key:"delete",danger:!0,onClick:async()=>{if(u&&u.id)try{await(async e=>{try{const t=Object(N.d)(L,"notes",e);await Object(N.c)(t)}catch(a){throw console.error("Erro ao deletar nota no Firestore: ",a),a}})(u.id),g(),h()}catch(e){console.error("Erro ao deletar nota: ",e)}}},"Deletar"),o.a.createElement(C.a,{key:"cancel",onClick:h},"Cancelar"),o.a.createElement(C.a,{key:"submit",type:"primary",onClick:async()=>{if(u)try{let a=u.expirationDate;if(a&&a.seconds&&(a=new Date(1e3*a.seconds)),!(a instanceof Date)||isNaN(a.getTime()))throw new Error("Invalid time value");const t={...u,expirationDate:a};await(async(e,a,t,r)=>{try{const l=Object(N.d)(L,"notes",e);await Object(N.k)(l,{title:a,content:t,expirationDate:r?new Date(r):null,updatedAt:new Date})}catch(o){throw console.error("Erro ao atualizar nota no Firestore: ",o),o}})(t.id,t.title,t.content,t.expirationDate),g(),h()}catch(e){console.error("Erro ao atualizar nota: ",e)}}},"Atualizar")]},o.a.createElement(G.a,{value:(null===u||void 0===u?void 0:u.title)||"",onChange:e=>p({...u,title:e.target.value}),placeholder:"T\xedtulo",style:{marginBottom:20}}),o.a.createElement(sa.a,{value:(null===u||void 0===u?void 0:u.content)||"",onChange:e=>p({...u,content:e}),modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{align:[]}],["link","image"],["clean"]],clipboard:{matchVisual:!1}},formats:["header","font","list","bullet","bold","italic","underline","strike","blockquote","color","background","align","link","image"],placeholder:"Escreva sua nota aqui..."})))};const ma=async(e,a,t,r,o,l,n,s)=>{const c={listId:e,title:a,description:t,expirationDate:o,createdAt:new Date,completed:!1,senderName:l||"Desconhecido",isSender:void 0===n||n,recipientNames:s||"Desconhecido"};return void 0!==r&&(c.timer=r),(await Object(N.a)(Object(N.b)(L,"tasks"),c)).id};t(368);const{Option:da}=$.a;var ua=e=>{let{userProfile:a}=e;const[t,l]=Object(r.useState)([]),[n,s]=Object(r.useState)(!1),[c,i]=Object(r.useState)(""),[m,d]=Object(r.useState)(""),[u,E]=Object(r.useState)(null),[g,h]=Object(r.useState)([]),[f,v]=Object(r.useState)([]),[y,S]=Object(r.useState)("all"),[I,w]=Object(r.useState)(!1),x=null===a||void 0===a?void 0:a.id,P=null===a||void 0===a?void 0:a.name;Object(r.useEffect)(()=>{x&&(k(),A())},[x]);const k=async()=>{console.log("Carregando tarefas...");const e=await(async e=>{const a=Object(N.i)(Object(N.b)(L,"tasks"),Object(N.l)("listId","==",e)),t=await Object(N.f)(a),r=[];return t.forEach(e=>{r.push({id:e.id,...e.data()})}),r})(x);console.log("Tarefas carregadas:",e),l(e)},A=async()=>{try{console.log("Carregando usu\xe1rios...");const{data:a}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),t=a.list.filter(e=>e.name!==P);h(t)}catch(e){console.error("Erro ao buscar usu\xe1rios:",e)}},j=async e=>{console.log("Concluindo tarefa:",e),await(async(e,a)=>{const t=Object(N.d)(L,"tasks",e);await Object(N.k)(t,a)})(e.id,{completed:!0}),k()},T=async e=>{console.log("Excluindo tarefa ID:",e),await(async e=>{const a=Object(N.d)(L,"tasks",e);await Object(N.c)(a)})(e),k()},R=t.filter(e=>"all"===y||("pending"===y?!e.completed:"completed"===y?e.completed:"sent"===y?!0===e.isSender:"received"!==y||!1===e.isSender));return o.a.createElement("div",{className:"tasks-container"},o.a.createElement("div",{className:"tasks-header"},o.a.createElement("h2",null,"Minhas Tarefas"),o.a.createElement(C.a,{type:"primary",onClick:()=>s(!0)},"Adicionar Tarefa"),o.a.createElement($.a,{value:y,onChange:S,style:{width:200,marginLeft:"1rem"}},o.a.createElement(da,{value:"all"},"Todas"),o.a.createElement(da,{value:"pending"},"Pendentes"),o.a.createElement(da,{value:"completed"},"Conclu\xeddas"),o.a.createElement(da,{value:"sent"},"Enviadas"),o.a.createElement(da,{value:"received"},"Recebidas"))),o.a.createElement(O.a,{bordered:!0,dataSource:R,renderItem:e=>{const a=e.isSender;return o.a.createElement(O.a.Item,null,o.a.createElement("div",{className:"task-item"},o.a.createElement("div",null,o.a.createElement("h4",null,e.title),o.a.createElement("p",null,e.description||"Sem descri\xe7\xe3o"),o.a.createElement("p",null,"Data de Expira\xe7\xe3o: ",e.expirationDate?b()(e.expirationDate).format("DD/MM/YYYY"):"Nenhuma"),a?o.a.createElement("p",null,"Enviado para: ",e.recipientNames||"Desconhecido"):o.a.createElement("p",null,"Recebido de: ",e.senderName||"Desconhecido"),e.completed&&o.a.createElement(Le.a,{color:"green"},"Conclu\xedda"),!e.completed&&o.a.createElement(Le.a,{color:"red"},"Pendente")),o.a.createElement("div",{className:"task-actions"},!e.completed&&o.a.createElement(C.a,{onClick:()=>j(e)},"Concluir"),o.a.createElement(C.a,{type:"danger",onClick:()=>T(e.id)},"Deletar"))))}}),o.a.createElement(ze.a,{title:"Adicionar Nova Tarefa",visible:n,onCancel:()=>s(!1),onOk:async()=>{if(c)try{const r=I?"Tarefa Pessoal":(null===a||void 0===a?void 0:a.name)||"Desconhecido";let o="";I?o="Tarefa Pessoal":f.length>0&&(o=f.map(e=>{var a;return(null===(a=g.find(a=>a.Id===e))||void 0===a?void 0:a.name)||"Desconhecido"}).join(", "));const l={title:c,description:m||"",userId:x,createdAt:new Date,completed:!1,senderName:r,isSender:!0,expirationDate:u?b()(u).toISOString():null,recipientNames:o||"Desconhecido"};console.log("Dados da tarefa antes de enviar ao Firebase:",JSON.stringify(l,null,2));const n=await ma(x,l.title,l.description,void 0,l.expirationDate,l.senderName,l.isSender,l.recipientNames);if(console.log("Tarefa criada com ID:",n),!I&&f.length>0)for(const a of f){var e;const t=(null===(e=g.find(e=>e.Id===a))||void 0===e?void 0:e.name)||"Desconhecido";console.log("Tarefa encaminhada para o usu\xe1rio:",t),await ma(a,`Tarefa Encaminhada: ${c}`,l.description,void 0,l.expirationDate,l.senderName,!1,o)}i(""),d(""),E(null),v([]),w(!1),k(),s(!1)}catch(t){console.error("Erro ao adicionar tarefa:",t)}else console.warn("T\xedtulo da tarefa ausente.")},className:"tasks-modal"},o.a.createElement(G.a,{value:c,onChange:e=>i(e.target.value),placeholder:"T\xedtulo da Tarefa",style:{marginBottom:"1rem"}}),o.a.createElement(G.a.TextArea,{value:m,onChange:e=>d(e.target.value),placeholder:"Descri\xe7\xe3o da Tarefa",style:{marginBottom:"1rem"}}),o.a.createElement(J.a,{value:u?b()(u):null,onChange:e=>E(e?e.toDate():null),placeholder:"Escolha a data de expira\xe7\xe3o",style:{marginBottom:"1rem",display:"block"}}),o.a.createElement(_e.a,{checked:I,onChange:e=>w(e.target.checked),style:{marginBottom:"1rem"}},"Tarefa Pessoal"),!I&&o.a.createElement($.a,{mode:"multiple",placeholder:"Encaminhar para usu\xe1rios",value:f,onChange:v,style:{width:"100%"}},g.map(e=>o.a.createElement(da,{key:e.Id,value:e.Id},e.name)))))},pa=t(415),Ea=t(416),ba=t(417);t(369);const{Header:ga,Content:ha}=i.a,{Title:fa}=m.a;var va=function(){const[e,a]=Object(r.useState)(""),[t,l]=Object(r.useState)([]),[n,s]=Object(r.useState)({CPU:"N/A","Mem\xf3ria Total":"N/A","Mem\xf3ria Usada":"N/A","Espa\xe7o em Disco":"N/A",Uptime:"N/A"}),[c,m]=Object(r.useState)(!1),d=async e=>{try{const r=await fetch("https://api.comand.nexusnerds.com.br/executar-comando",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comando:e})}),o=await r.text();a(e=>e+"\n"+o),m(!1)}catch(t){console.error(`Erro de execu\xe7\xe3o: ${t.message}`),a(e=>e+"\nErro de execu\xe7\xe3o: "+t.message),m(!0)}},u=async()=>{try{const a=await fetch("https://api.comand.nexusnerds.com.br/executar-comando",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comando:"pm2 monit"})}),t=await a.json();a.ok?(l(t),m(!1)):(l([]),m(!0))}catch(e){console.error(`Erro ao buscar PM2 monit: ${e.message}`),m(!0)}},p=async()=>{try{const a=await fetch("https://api.comand.nexusnerds.com.br/vps-overview",{method:"GET"}),t=await a.json();s(t),m(!1)}catch(e){console.error(`Erro ao buscar vis\xe3o geral da VPS: ${e.message}`),m(!0)}};return Object(r.useEffect)(()=>{u(),p();const e=setInterval(()=>{u(),p()},18e4);return()=>clearInterval(e)},[]),o.a.createElement(i.a,{style:{minHeight:"100vh"}},o.a.createElement(ga,{style:{backgroundColor:"#001529",padding:"0 16px"}},o.a.createElement(fa,{level:3,style:{color:"#fff",margin:0}},"Monitoramento da VPS")),o.a.createElement(ha,{style:{padding:"24px"}},o.a.createElement(Ye.a,{gutter:[16,16]},o.a.createElement(Ze.a,{xs:24,md:8},o.a.createElement(ae.a,{title:"Terminal",bordered:!1,style:{minHeight:300}},o.a.createElement("pre",null,e||"Terminal vazio..."),o.a.createElement("div",{style:{marginTop:16}},o.a.createElement(C.a,{type:"primary",icon:o.a.createElement(pa.a,null),onClick:()=>d("uname -a")},"Sistema"),o.a.createElement(C.a,{type:"primary",icon:o.a.createElement(Ea.a,null),onClick:()=>d("df -h"),style:{marginLeft:8}},"Espa\xe7o em Disco"),o.a.createElement(C.a,{type:"primary",icon:o.a.createElement(ba.a,null),onClick:()=>d("uptime"),style:{marginLeft:8}},"Uptime")))),o.a.createElement(Ze.a,{xs:24,md:8},o.a.createElement(ae.a,{title:"PM2 Monit",bordered:!1,style:{minHeight:300}},t.length>0?t.map((e,a)=>o.a.createElement("div",{key:a},o.a.createElement("strong",null,"Nome:")," ",e.name," | ",o.a.createElement("strong",null,"Status:")," ",e.status," | ",o.a.createElement("strong",null,"CPU:")," ",e.cpu,"% | ",o.a.createElement("strong",null,"Mem\xf3ria:")," ",e.memory)):o.a.createElement("p",null,"Nenhuma informa\xe7\xe3o dispon\xedvel"))),o.a.createElement(Ze.a,{xs:24,md:8},o.a.createElement(ae.a,{title:"Vis\xe3o Geral da VPS",bordered:!1,style:{minHeight:300}},o.a.createElement("div",null,o.a.createElement("strong",null,"CPU:")," ",n.CPU),o.a.createElement("div",null,o.a.createElement("strong",null,"Mem\xf3ria Total:")," ",n["Mem\xf3ria Total"]," MB"),o.a.createElement("div",null,o.a.createElement("strong",null,"Mem\xf3ria Usada:")," ",n["Mem\xf3ria Usada"]," MB"),o.a.createElement("div",null,o.a.createElement("strong",null,"Espa\xe7o em Disco:")," ",n["Espa\xe7o em Disco"]),o.a.createElement("div",null,o.a.createElement("strong",null,"Uptime:")," ",n.Uptime))))))};t(370);var ya=()=>{const[e,a]=Object(r.useState)([]),[t,l]=Object(r.useState)(""),n=async()=>{try{const t=await Ve();a(t)}catch(e){d.a.error("Erro ao carregar a galeria: "+e.message)}};Object(r.useEffect)(()=>{n()},[]);const s=async e=>{try{if(!e)throw new Error("Arquivo n\xe3o encontrado ou estrutura incorreta.");const r=e.name.split(".").pop(),o=`${t}.${r}`,s=new File([e],o,{type:e.type}),c=await Ue(s);await(async(e,a)=>{try{return(await Object(N.a)(Object(N.b)(L,"galleryImages"),{url:e,label:a})).id}catch(t){throw console.error("Erro ao salvar imagem na galeria: ",t),t}})(c,t),d.a.success("Imagem enviada com sucesso!"),l(""),n()}catch(a){d.a.error("Erro ao enviar a imagem: "+a.message)}},c=async(e,a)=>{try{await(async(e,a)=>{try{await Object(N.c)(Object(N.d)(L,"galleryImages",e));const r=Object(D.d)(z,a);await Object(D.a)(r)}catch(t){throw console.error("Erro ao apagar a imagem: ",t),t}})(e,a),d.a.success("Imagem apagada com sucesso!"),n()}catch(t){d.a.error("Erro ao apagar a imagem: "+t.message)}};return o.a.createElement("div",{className:"gallery-container"},o.a.createElement("h2",null,"Galeria de Imagens"),o.a.createElement(G.a,{className:"gallery-input",placeholder:"Digite o nome da imagem",value:t,onChange:e=>l(e.target.value)}),o.a.createElement(je.a,{beforeUpload:e=>t.trim()?(s(e),!1):(d.a.error("Por favor, insira um nome para a imagem antes de fazer o upload."),!1),showUploadList:!1},o.a.createElement(C.a,{icon:o.a.createElement(Te.a,null),className:"gallery-upload-btn"},"Carregar Imagem")),o.a.createElement("div",{className:"gallery-cards"},e.map(e=>o.a.createElement(ae.a,{key:e.id,hoverable:!0,className:"gallery-card",cover:o.a.createElement("img",{alt:e.label,src:e.url}),actions:[o.a.createElement(Fe.a,{title:"Tem certeza que deseja apagar esta imagem?",onConfirm:()=>c(e.id,e.url),okText:"Sim",cancelText:"N\xe3o"},o.a.createElement(Me.a,{style:{color:"red"}}))]},o.a.createElement(ae.a.Meta,{title:e.label})," "))))};var Sa=e=>{let{userProfile:a,onLogout:t}=e;const l=Object(s.p)(),[n,c]=Object(r.useState)([]),[i,m]=Object(r.useState)(0),[d,E]=Object(r.useState)([]),[b,g]=Object(r.useState)(!0),[h,f]=Object(r.useState)(null);Object(r.useEffect)(()=>{(async()=>{if(a)try{const{data:t}=await p.a.get("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",{params:{where:`(userId,eq,${a.id})`},headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),r=t.list.filter(e=>!e.isRead);c(t.list),m(r.length)}catch(e){console.error("Erro ao buscar notifica\xe7\xf5es:",e)}})(),(async()=>{if(!a||!a.id)return console.error("UserID n\xe3o est\xe1 dispon\xedvel."),f("UserID n\xe3o est\xe1 dispon\xedvel."),void g(!1);try{console.log("Iniciando a busca de empresas no Firebase para o usu\xe1rio:",a.id);const t=Object(N.d)(L,"users",String(a.id)),r=await Object(N.e)(t);if(r.exists()){const e=r.data();console.log("Dados recuperados do documento Firebase:",e),e.companies?(console.log("Empresas encontradas:",e.companies),E(e.companies)):(console.log("Nenhuma empresa encontrada no documento."),E([]))}else console.error("Nenhum documento encontrado para esse usu\xe1rio."),f("Nenhum documento encontrado para esse usu\xe1rio.")}catch(e){console.error("Erro ao buscar dados do Firebase:",e),f("Erro ao buscar dados do Firebase")}finally{g(!1)}})()},[a]);const v=e=>{let{key:a}=e;"logout"===a?t():l(`/home/${a}`)},y=o.a.createElement(u.a,{onClick:v},d.length>0?d.map((e,a)=>o.a.createElement(u.a.Item,{key:e},e)):o.a.createElement(u.a.Item,{disabled:!0},b?"Carregando empresas...":"Nenhuma empresa dispon\xedvel")),S=o.a.createElement(u.a,null,n.length>0?n.map(e=>o.a.createElement(u.a.Item,{key:e.Id,onClick:()=>(async e=>{try{const t={Id:e.Id,title:e.title,userId:e.userId,message:e.message,isRead:!0,createdAt_:e.createdAt_};await p.a.patch("https://nocodb.nexusnerds.com.br/api/v2/tables/myd2oats63ype1t/records",t,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),c(a=>a.map(a=>a.Id===e.Id?{...a,isRead:!0}:a)),m(e=>e-1)}catch(a){console.error("Erro ao marcar notifica\xe7\xe3o como lida:",a)}})(e)},e.title," - ",e.message)):o.a.createElement(u.a.Item,null,"Voc\xea n\xe3o tem notifica\xe7\xf5es.")),O=o.a.createElement(u.a,{onClick:v},o.a.createElement(u.a.Item,{key:"editProfile",icon:o.a.createElement(ye.a,null)},"Editar Perfil"),o.a.createElement(u.a.Item,{key:"logout",icon:o.a.createElement(xe.a,null)},"Sair"));return o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"header-left"},o.a.createElement("div",{className:"user-info"},o.a.createElement("span",null,a.name))),o.a.createElement("div",{className:"header-right"},o.a.createElement(be.a,{overlay:S,placement:"bottomRight",trigger:["click"]},o.a.createElement("div",{className:"notification-icon"},o.a.createElement(I.a,{count:i,className:"notification-count"},o.a.createElement(Pe.a,{style:{fontSize:"24px",cursor:"pointer"}})))),o.a.createElement(be.a,{overlay:y,placement:"bottomRight",trigger:["click"]},o.a.createElement("div",{className:"switch-icon"},o.a.createElement(ke.a,{style:{fontSize:"24px",cursor:"pointer"}}))),o.a.createElement(be.a,{overlay:O,placement:"bottomRight",trigger:["click"]},o.a.createElement(ge.a,{size:48,src:a.profilePic||null,icon:!a.profilePic&&o.a.createElement(ye.a,null),style:{cursor:"pointer"}}))))};t(371);const Oa=()=>{const e=Object(s.p)(),[a,t]=Object(r.useState)(()=>"true"===localStorage.getItem("isAuthenticated")),[l,n]=Object(r.useState)(()=>{const e=localStorage.getItem("userProfile");return e?JSON.parse(e):null}),c=Object(s.n)();Object(r.useEffect)(()=>{"/"===c.pathname||"/login"===c.pathname?document.body.classList.add("login-background"):document.body.classList.remove("login-background")},[c]),Object(r.useEffect)(()=>{const e=setInterval(()=>{const e=JSON.parse(localStorage.getItem("tasks"))||[],a=(new Date).getTime();e.forEach(e=>{e.timerEnd&&e.timerEnd-a<=0&&(new Audio("/alert.mp3").play(),e.timerEnd=null)}),localStorage.setItem("tasks",JSON.stringify(e))},1e3);return()=>clearInterval(e)},[]);const i=async()=>{if(l){const r=(new Date).toISOString(),o={Id:l.id,name:l.name,email:l.email,password:l.password,Cargo1:l.Cargo1,username:l.username,profilePicUrl:l.profilePic,isOnline:!1,lastActiveAt:r,empresa:l.empresa};try{await p.a.patch("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",o,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),console.log("Status do usu\xe1rio atualizado para offline."),t(!1),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userProfile"),e("/login")}catch(a){console.error("Erro ao atualizar o status online para offline:",a)}}};return o.a.createElement("div",{className:`App ${"/cadastro"===c.pathname?"cadastro-page":""}`},a&&l&&o.a.createElement(Ae,{userProfile:l,onLogout:i}),o.a.createElement(s.d,null,a&&l?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.b,{path:"/home/*",element:o.a.createElement(Ca,{onLogout:i,userProfile:l,onProfileUpdate:e=>{const a={...l,...e,name:e.name||e.username};n(a),localStorage.setItem("userProfile",JSON.stringify(a))}})}),o.a.createElement(s.b,{path:"*",element:o.a.createElement(s.a,{to:"/home",replace:!0})})):o.a.createElement(s.b,{path:"*",element:o.a.createElement(se,{onLogin:e=>{t(!0),localStorage.setItem("isAuthenticated","true");const a={...e,name:e.name||e.username};n(a),localStorage.setItem("userProfile",JSON.stringify(a)),(async e=>{if(l){const t=(new Date).toISOString(),r={name:l.name,email:l.email,password:l.password,Cargo1:l.Cargo1,username:l.username,profilePicUrl:l.profilePic,isOnline:e,lastActiveAt:t,empresa:l.empresa};try{await p.a.patch("https://nocodb.nexusnerds.com.br/api/v2/tables/m0wcogamwt1qc5e/records",r,{headers:{"xc-token":"ZqFzoCRvPCyzSRAIKPMbnOaLwR6laivSdxcpXiA5"}}),console.log("Status do usu\xe1rio atualizado:",e?"Online":"Offline")}catch(a){console.error("Erro ao atualizar o status online:",a)}}})(!0)}})})),o.a.createElement("div",{className:"mobile-warning"},o.a.createElement("img",{src:"https://i.ibb.co/g9KDtqK/warning.png",alt:"Aviso"}),o.a.createElement("p",null,"O aplicativo est\xe1 dispon\xedvel apenas para desktop.")))},Ca=e=>{let{onLogout:a,userProfile:t,onProfileUpdate:r}=e;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{onLogout:a}),o.a.createElement("div",{className:"layout-container"},o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",element:o.a.createElement(Ee,{userProfile:t})}),o.a.createElement(s.b,{path:"/detalhes-dispositivos",element:o.a.createElement(Qe,{userProfile:t})})," ",o.a.createElement(s.b,{path:"/max-fibra",element:o.a.createElement(T,{userProfile:t})}),o.a.createElement(s.b,{path:"/max-fibra/consultaCPF",element:o.a.createElement(ee,null)}),o.a.createElement(s.b,{path:"/max-fibra/consultaCNPJ",element:o.a.createElement(le,null)}),o.a.createElement(s.b,{path:"/vir-telecom",element:o.a.createElement(U,{userProfile:t})}),o.a.createElement(s.b,{path:"/reis-services",element:o.a.createElement(V,{userProfile:t})}),o.a.createElement(s.b,{path:"/contact",element:o.a.createElement(X,null)}),o.a.createElement(s.b,{path:"/max-fibra/cadastro",element:o.a.createElement(Q,null)}),o.a.createElement(s.b,{path:"/criar-usuario",element:o.a.createElement(De,null)}),o.a.createElement(s.b,{path:"/editar-perfil",element:o.a.createElement(Re,{userProfile:t,onProfileUpdate:r})}),o.a.createElement(s.b,{path:"/gerenciar-atalhos",element:o.a.createElement($e,{userProfile:t})}),o.a.createElement(s.b,{path:"/config",element:o.a.createElement(Be,{userProfile:t})}),o.a.createElement(s.b,{path:"/send-notification",element:o.a.createElement(Je,{userProfile:t})}),o.a.createElement(s.b,{path:"/usuarios-online",element:o.a.createElement(Ke,{userProfile:t})}),o.a.createElement(s.b,{path:"/vir-telecom/Dashboard-virtelecom",element:o.a.createElement(la,{userProfile:t})}),o.a.createElement(s.b,{path:"/notas",element:o.a.createElement(ia,{userProfile:t})}),o.a.createElement(s.b,{path:"/tarefas",element:o.a.createElement(ua,{userProfile:t})}),o.a.createElement(s.b,{path:"/monitor-vps",element:o.a.createElement(va,{userProfile:t})}),o.a.createElement(s.b,{path:"/galeria",element:o.a.createElement(ya,{userProfile:t})}),o.a.createElement(s.b,{path:"/paginaEmpresa",element:o.a.createElement(Sa,{userProfile:t})}),o.a.createElement(s.b,{path:"*",element:o.a.createElement(s.a,{to:"/home",replace:!0})}))))};var Ia=()=>o.a.createElement(c.b,{basename:"/"},o.a.createElement(Oa,null));var wa=e=>{e&&e instanceof Function&&t.e(12).then(t.bind(null,800)).then(a=>{let{getCLS:t,getFID:r,getFCP:o,getLCP:l,getTTFB:n}=a;t(e),r(e),o(e),l(e),n(e)})};n.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ia,null))),wa()}},[[279,1,2]]]);
//# sourceMappingURL=main.5f37a566.chunk.js.map